/* Cylinder.c generated by valac 0.20.1, the Vala compiler
 * generated from Cylinder.gs, do not modify */

/*
 *  libsoy - soy.bodies.Cylinder
 *  Copyright (C) 2006,2007,2008,2009,2010,2011,2012,2013 Copyleft Games Group
 *
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published
 *  by the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program; if not, see http://www.gnu.org/licenses
 *
 */

#include <glib.h>
#include <glib-object.h>
#include <float.h>
#include <math.h>
#include <soy-1/ode.h>
#include <GLES/gl.h>
#include <GLES/glext.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>


#define SOY_BODIES_TYPE_BODY (soy_bodies_body_get_type ())
#define SOY_BODIES_BODY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_BODY, soybodiesBody))
#define SOY_BODIES_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))
#define SOY_BODIES_IS_BODY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_IS_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_BODY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))

typedef struct _soybodiesBody soybodiesBody;
typedef struct _soybodiesBodyClass soybodiesBodyClass;
typedef struct _soybodiesBodyPrivate soybodiesBodyPrivate;

#define SOY_BODIES_TYPE_CAMERA (soy_bodies_camera_get_type ())
#define SOY_BODIES_CAMERA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_CAMERA, soybodiesCamera))
#define SOY_BODIES_CAMERA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_CAMERA, soybodiesCameraClass))
#define SOY_BODIES_IS_CAMERA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_CAMERA))
#define SOY_BODIES_IS_CAMERA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_CAMERA))
#define SOY_BODIES_CAMERA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_CAMERA, soybodiesCameraClass))

typedef struct _soybodiesCamera soybodiesCamera;
typedef struct _soybodiesCameraClass soybodiesCameraClass;

#define SOY_SCENES_TYPE_SCENE (soy_scenes_scene_get_type ())
#define SOY_SCENES_SCENE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_SCENES_TYPE_SCENE, soyscenesScene))
#define SOY_SCENES_SCENE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_SCENES_TYPE_SCENE, soyscenesSceneClass))
#define SOY_SCENES_IS_SCENE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_SCENES_TYPE_SCENE))
#define SOY_SCENES_IS_SCENE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_SCENES_TYPE_SCENE))
#define SOY_SCENES_SCENE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_SCENES_TYPE_SCENE, soyscenesSceneClass))

typedef struct _soyscenesScene soyscenesScene;
typedef struct _soyscenesSceneClass soyscenesSceneClass;

#define SOY_BODIES_TYPE_CYLINDER (soy_bodies_cylinder_get_type ())
#define SOY_BODIES_CYLINDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_CYLINDER, soybodiesCylinder))
#define SOY_BODIES_CYLINDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_CYLINDER, soybodiesCylinderClass))
#define SOY_BODIES_IS_CYLINDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_CYLINDER))
#define SOY_BODIES_IS_CYLINDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_CYLINDER))
#define SOY_BODIES_CYLINDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_CYLINDER, soybodiesCylinderClass))

typedef struct _soybodiesCylinder soybodiesCylinder;
typedef struct _soybodiesCylinderClass soybodiesCylinderClass;
typedef struct _soybodiesCylinderPrivate soybodiesCylinderPrivate;

#define SOY_MATERIALS_TYPE_MATERIAL (soy_materials_material_get_type ())
#define SOY_MATERIALS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterial))
#define SOY_MATERIALS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))
#define SOY_MATERIALS_IS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_IS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_MATERIAL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))

typedef struct _soymaterialsMaterial soymaterialsMaterial;
typedef struct _soymaterialsMaterialClass soymaterialsMaterialClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define SOY_ATOMS_TYPE_POSITION (soy_atoms_position_get_type ())
#define SOY_ATOMS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPosition))
#define SOY_ATOMS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))
#define SOY_ATOMS_IS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_IS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_POSITION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))

typedef struct _soyatomsPosition soyatomsPosition;
typedef struct _soyatomsPositionClass soyatomsPositionClass;

#define SOY_ATOMS_TYPE_SIZE (soy_atoms_size_get_type ())
#define SOY_ATOMS_SIZE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_SIZE, soyatomsSize))
#define SOY_ATOMS_SIZE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_SIZE, soyatomsSizeClass))
#define SOY_ATOMS_IS_SIZE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_SIZE))
#define SOY_ATOMS_IS_SIZE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_SIZE))
#define SOY_ATOMS_SIZE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_SIZE, soyatomsSizeClass))

typedef struct _soyatomsSize soyatomsSize;
typedef struct _soyatomsSizeClass soyatomsSizeClass;
#define _dGeomDestroy0(var) ((var == NULL) ? NULL : (var = (dGeomDestroy (var), NULL)))
#define _dMassfree0(var) ((var == NULL) ? NULL : (var = (dMassfree (var), NULL)))
typedef struct _soymaterialsMaterialPrivate soymaterialsMaterialPrivate;

struct _soybodiesBody {
	GObject parent_instance;
	soybodiesBodyPrivate * priv;
	struct dxBody* body;
	GLfloat* fogcoords;
	gint fogcoords_length1;
	struct dxGeom* geom;
	gchar* key;
	GMutex mutex;
	GLfloat* tslvs;
	gint tslvs_length1;
	soyscenesScene* scene;
	GeeHashMap* tags_;
};

struct _soybodiesBodyClass {
	GObjectClass parent_class;
	void (*create_geom) (soybodiesBody* self, GObject* geom_param, gfloat geom_scalar);
	void (*set_mass) (soybodiesBody* self, gfloat density);
	void (*add_extra) (soybodiesBody* self);
	void (*remove_extra) (soybodiesBody* self);
	gfloat (*pointDepth) (soybodiesBody* self, gfloat x, gfloat y, gfloat z);
	gfloat (*volume) (soybodiesBody* self);
	gint (*finite) (soybodiesBody* self);
	void (*mult_model_matrix) (soybodiesBody* self);
	void (*render) (soybodiesBody* self, gboolean alpha_stage, soybodiesCamera* camera, gint level);
	gfloat (*get_col_radius) (soybodiesBody* self);
};

struct _soybodiesCylinder {
	soybodiesBody parent_instance;
	soybodiesCylinderPrivate * priv;
	gint SLICES;
	gint LIMIT;
};

struct _soybodiesCylinderClass {
	soybodiesBodyClass parent_class;
};

struct _soybodiesCylinderPrivate {
	GLuint _ebo;
	GLuint _vbo;
	gboolean _updated;
	GLfloat* _vercache;
	gint _vercache_length1;
	gint __vercache_size_;
	soymaterialsMaterial* _material;
	GLfloat _radius;
	GLfloat _length;
};

struct _soymaterialsMaterial {
	GObject parent_instance;
	soymaterialsMaterialPrivate * priv;
	gboolean needsTSLVs;
	gboolean translucent;
};

struct _soymaterialsMaterialClass {
	GObjectClass parent_class;
	gboolean (*render) (soymaterialsMaterial* self, gint step, GLvoid* tslvs, dxMatrix3* texmatrix);
	GLenum* (*get_draw_mode) (soymaterialsMaterial* self);
};


static gpointer soy_bodies_cylinder_parent_class = NULL;
extern soymaterialsMaterial* soy_default_material;
extern gulong GeomBody;
extern GRWLock soy_scenes__stepLock;

GType soy_bodies_body_get_type (void) G_GNUC_CONST;
GType soy_bodies_camera_get_type (void) G_GNUC_CONST;
GType soy_scenes_scene_get_type (void) G_GNUC_CONST;
GType soy_bodies_cylinder_get_type (void) G_GNUC_CONST;
GType soy_materials_material_get_type (void) G_GNUC_CONST;
#define SOY_BODIES_CYLINDER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SOY_BODIES_TYPE_CYLINDER, soybodiesCylinderPrivate))
enum  {
	SOY_BODIES_CYLINDER_DUMMY_PROPERTY,
	SOY_BODIES_CYLINDER_MATERIAL,
	SOY_BODIES_CYLINDER_RADIUS,
	SOY_BODIES_CYLINDER_LENGTH,
	SOY_BODIES_CYLINDER_COL_RADIUS
};
GType soy_atoms_position_get_type (void) G_GNUC_CONST;
soybodiesCylinder* soy_bodies_cylinder_new (soyatomsPosition* position, gfloat radius, gfloat length, soymaterialsMaterial* material);
soybodiesCylinder* soy_bodies_cylinder_construct (GType object_type, soyatomsPosition* position, gfloat radius, gfloat length, soymaterialsMaterial* material);
soyatomsSize* soy_atoms_size_new (gfloat width, gfloat height, gfloat depth);
soyatomsSize* soy_atoms_size_construct (GType object_type, gfloat width, gfloat height, gfloat depth);
GType soy_atoms_size_get_type (void) G_GNUC_CONST;
soybodiesBody* soy_bodies_body_new (soyatomsPosition* position, GObject* geom_param, gfloat geom_scalar);
soybodiesBody* soy_bodies_body_construct (GType object_type, soyatomsPosition* position, GObject* geom_param, gfloat geom_scalar);
soymaterialsMaterial* soy_materials_material_new (void);
soymaterialsMaterial* soy_materials_material_construct (GType object_type);
void soy_bodies_cylinder_set_material (soybodiesCylinder* self, soymaterialsMaterial* value);
static void soy_bodies_cylinder_real_create_geom (soybodiesBody* base, GObject* geom_param, gfloat geom_scalar);
gfloat soy_atoms_size_get_width (soyatomsSize* self);
gfloat soy_atoms_size_get_height (soyatomsSize* self);
void soy_bodies_body_set_mass (soybodiesBody* self, gfloat density);
gfloat soy_bodies_body_get_density (soybodiesBody* self);
static void soy_bodies_cylinder_real_set_mass (soybodiesBody* base, gfloat density);
gfloat soy_bodies_body_volume (soybodiesBody* self);
static gfloat soy_bodies_cylinder_real_volume (soybodiesBody* base);
static void soy_bodies_cylinder_real_render (soybodiesBody* base, gboolean alpha_stage, soybodiesCamera* camera, gint level);
void soy_bodies_body_mult_model_matrix (soybodiesBody* self);
static void _soy_bodies_cylinder_update_cylinder (soybodiesCylinder* self);
void soy_bodies_body_calculateTSLV (soybodiesBody* self, GLfloat* vertices, int vertices_length1);
gboolean soy_materials_material_render (soymaterialsMaterial* self, gint step, GLvoid* tslvs, dxMatrix3* texmatrix);
void soy_bodies_body_renderAxis (soybodiesBody* self);
static GLfloat* _vala_array_dup3 (GLfloat* self, int length);
soymaterialsMaterial* soy_bodies_cylinder_get_material (soybodiesCylinder* self);
gfloat soy_bodies_cylinder_get_radius (soybodiesCylinder* self);
void soy_bodies_cylinder_set_radius (soybodiesCylinder* self, gfloat value);
gfloat soy_bodies_cylinder_get_length (soybodiesCylinder* self);
void soy_bodies_cylinder_set_length (soybodiesCylinder* self, gfloat value);
static void soy_bodies_cylinder_finalize (GObject* obj);
gfloat soy_bodies_body_get_col_radius (soybodiesBody* self);
static void _vala_soy_bodies_cylinder_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_soy_bodies_cylinder_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


soybodiesCylinder* soy_bodies_cylinder_construct (GType object_type, soyatomsPosition* position, gfloat radius, gfloat length, soymaterialsMaterial* material) {
	soybodiesCylinder * self = NULL;
	gfloat _tmp0_;
	gfloat _tmp1_;
	soyatomsSize* _tmp2_;
	soyatomsSize* _params;
	soyatomsPosition* _tmp3_;
	soyatomsSize* _tmp4_;
	soymaterialsMaterial* _tmp5_;
	gfloat _tmp10_;
	gdouble _tmp11_ = 0.0;
	_tmp0_ = radius;
	_tmp1_ = length;
	_tmp2_ = soy_atoms_size_new (_tmp0_, _tmp1_, 0.0f);
	_params = _tmp2_;
	_tmp3_ = position;
	_tmp4_ = _params;
	self = (soybodiesCylinder*) soy_bodies_body_construct (object_type, _tmp3_, (GObject*) _tmp4_, 0.0f);
	_tmp5_ = material;
	if (_tmp5_ == NULL) {
		soymaterialsMaterial* _tmp6_;
		soymaterialsMaterial* _tmp8_;
		_tmp6_ = soy_default_material;
		if (_tmp6_ == NULL) {
			soymaterialsMaterial* _tmp7_;
			_tmp7_ = soy_materials_material_new ();
			_g_object_unref0 (soy_default_material);
			soy_default_material = _tmp7_;
		}
		_tmp8_ = soy_default_material;
		soy_bodies_cylinder_set_material (self, _tmp8_);
	} else {
		soymaterialsMaterial* _tmp9_;
		_tmp9_ = material;
		soy_bodies_cylinder_set_material (self, _tmp9_);
	}
	_tmp10_ = radius;
	_tmp11_ = ceil ((gdouble) (50 * _tmp10_));
	self->SLICES = (gint) _tmp11_;
	self->priv->_updated = TRUE;
	_g_object_unref0 (_params);
	return self;
}


soybodiesCylinder* soy_bodies_cylinder_new (soyatomsPosition* position, gfloat radius, gfloat length, soymaterialsMaterial* material) {
	return soy_bodies_cylinder_construct (SOY_BODIES_TYPE_CYLINDER, position, radius, length, material);
}


static void soy_bodies_cylinder_real_create_geom (soybodiesBody* base, GObject* geom_param, gfloat geom_scalar) {
	soybodiesCylinder * self;
	GObject* _tmp0_;
	gfloat _tmp1_;
	gfloat _tmp2_;
	GObject* _tmp3_;
	gfloat _tmp4_;
	gfloat _tmp5_;
	GLfloat _tmp6_;
	GLfloat _tmp7_;
	struct dxGeom* _tmp8_;
	struct dxGeom* _tmp9_;
	gulong _tmp10_;
	struct dxGeom* _tmp11_;
	struct dxBody* _tmp12_;
	struct dxGeom* _tmp13_;
	dxVector3* _tmp14_ = NULL;
	dxVector3* pos;
	struct dxBody* _tmp15_;
	dReal _tmp16_;
	dReal _tmp17_;
	dReal _tmp18_;
	struct dxBody* _tmp19_;
	struct dxGeom* _tmp20_;
	dxMatrix3* _tmp21_ = NULL;
	struct dxGeom* _tmp22_;
	struct dxBody* _tmp23_;
	gfloat _tmp24_;
	gfloat _tmp25_;
	self = (soybodiesCylinder*) base;
	_tmp0_ = geom_param;
	_tmp1_ = soy_atoms_size_get_width (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, SOY_ATOMS_TYPE_SIZE, soyatomsSize));
	_tmp2_ = _tmp1_;
	self->priv->_radius = (GLfloat) _tmp2_;
	_tmp3_ = geom_param;
	_tmp4_ = soy_atoms_size_get_height (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, SOY_ATOMS_TYPE_SIZE, soyatomsSize));
	_tmp5_ = _tmp4_;
	self->priv->_length = (GLfloat) _tmp5_;
	_tmp6_ = self->priv->_radius;
	_tmp7_ = self->priv->_length;
	_tmp8_ = dCreateCylinder (NULL, (dReal) _tmp6_, (dReal) _tmp7_);
	_dGeomDestroy0 (((soybodiesBody*) self)->geom);
	((soybodiesBody*) self)->geom = _tmp8_;
	_tmp9_ = ((soybodiesBody*) self)->geom;
	_tmp10_ = GeomBody;
	dGeomSetCategoryBits (_tmp9_, _tmp10_);
	_tmp11_ = ((soybodiesBody*) self)->geom;
	dGeomSetData (_tmp11_, (void*) self);
	_tmp12_ = ((soybodiesBody*) self)->body;
	dBodySetData (_tmp12_, (void*) self);
	_tmp13_ = ((soybodiesBody*) self)->geom;
	_tmp14_ = dGeomGetPosition (_tmp13_);
	pos = _tmp14_;
	_tmp15_ = ((soybodiesBody*) self)->body;
	_tmp16_ = pos->x;
	_tmp17_ = pos->y;
	_tmp18_ = pos->z;
	dBodySetPosition (_tmp15_, _tmp16_, _tmp17_, _tmp18_);
	_tmp19_ = ((soybodiesBody*) self)->body;
	_tmp20_ = ((soybodiesBody*) self)->geom;
	_tmp21_ = dGeomGetRotation (_tmp20_);
	dBodySetRotation (_tmp19_, _tmp21_);
	_tmp22_ = ((soybodiesBody*) self)->geom;
	_tmp23_ = ((soybodiesBody*) self)->body;
	dGeomSetBody (_tmp22_, _tmp23_);
	_tmp24_ = soy_bodies_body_get_density ((soybodiesBody*) self);
	_tmp25_ = _tmp24_;
	soy_bodies_body_set_mass ((soybodiesBody*) self, _tmp25_);
}


static void soy_bodies_cylinder_real_set_mass (soybodiesBody* base, gfloat density) {
	soybodiesCylinder * self;
	gboolean _tmp0_ = FALSE;
	gfloat _tmp1_;
	gboolean _tmp3_;
	self = (soybodiesCylinder*) base;
	_tmp1_ = density;
	if (_tmp1_ != ((gfloat) 0)) {
		gfloat _tmp2_ = 0.0F;
		_tmp2_ = soy_bodies_body_volume ((soybodiesBody*) self);
		_tmp0_ = _tmp2_ != 0.0f;
	} else {
		_tmp0_ = FALSE;
	}
	_tmp3_ = _tmp0_;
	if (_tmp3_) {
		dMass* _tmp4_;
		dMass* mass;
		dMass* _tmp5_;
		gfloat _tmp6_;
		GLfloat _tmp7_;
		GLfloat _tmp8_;
		struct dxBody* _tmp9_;
		dMass* _tmp10_;
		struct dxBody* _tmp11_;
		_tmp4_ = dMassnew ();
		mass = _tmp4_;
		_tmp5_ = mass;
		_tmp6_ = density;
		_tmp7_ = self->priv->_radius;
		_tmp8_ = self->priv->_length;
		dMassSetCylinder (_tmp5_, (dReal) _tmp6_, 2, (dReal) _tmp7_, (dReal) _tmp8_);
		_tmp9_ = ((soybodiesBody*) self)->body;
		_tmp10_ = mass;
		dBodySetMass (_tmp9_, _tmp10_);
		_tmp11_ = ((soybodiesBody*) self)->body;
		dBodySetGravityMode (_tmp11_, 1);
		_dMassfree0 (mass);
	} else {
		struct dxBody* _tmp12_;
		_tmp12_ = ((soybodiesBody*) self)->body;
		dBodySetGravityMode (_tmp12_, 0);
	}
}


static gfloat soy_bodies_cylinder_real_volume (soybodiesBody* base) {
	soybodiesCylinder * self;
	gfloat result = 0.0F;
	GLfloat _tmp0_;
	gdouble _tmp1_ = 0.0;
	GLfloat _tmp2_;
	self = (soybodiesCylinder*) base;
	_tmp0_ = self->priv->_radius;
	_tmp1_ = pow ((gdouble) _tmp0_, (gdouble) 2);
	_tmp2_ = self->priv->_length;
	result = (gfloat) ((3.1416 * _tmp1_) * _tmp2_);
	return result;
}


static void soy_bodies_cylinder_real_render (soybodiesBody* base, gboolean alpha_stage, soybodiesCamera* camera, gint level) {
	soybodiesCylinder * self;
	gboolean _tmp0_;
	soymaterialsMaterial* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_ = FALSE;
	GLfloat _tmp4_;
	gboolean _tmp6_;
	gint i;
	gint offset;
	gboolean _tmp7_;
	soymaterialsMaterial* _tmp10_;
	gboolean _tmp11_;
	self = (soybodiesCylinder*) base;
	g_return_if_fail (camera != NULL);
	_tmp0_ = alpha_stage;
	_tmp1_ = self->priv->_material;
	_tmp2_ = _tmp1_->translucent;
	if (_tmp0_ != _tmp2_) {
		return;
	}
	_tmp4_ = self->priv->_radius;
	if (_tmp4_ <= ((GLfloat) 0)) {
		_tmp3_ = TRUE;
	} else {
		GLfloat _tmp5_;
		_tmp5_ = self->priv->_length;
		_tmp3_ = _tmp5_ <= ((GLfloat) 0);
	}
	_tmp6_ = _tmp3_;
	if (_tmp6_) {
		return;
	}
	i = 0;
	offset = 0;
	glMatrixMode (GL_MODELVIEW);
	glPushMatrix ();
	g_mutex_lock (&((soybodiesBody*) self)->mutex);
	soy_bodies_body_mult_model_matrix ((soybodiesBody*) self);
	_tmp7_ = self->priv->_updated;
	if (_tmp7_) {
		_soy_bodies_cylinder_update_cylinder (self);
	} else {
		GLuint _tmp8_;
		GLuint _tmp9_;
		_tmp8_ = self->priv->_ebo;
		glBindBuffer (GL_ELEMENT_ARRAY_BUFFER, _tmp8_);
		_tmp9_ = self->priv->_vbo;
		glBindBuffer (GL_ARRAY_BUFFER, _tmp9_);
	}
	glVertexPointer ((GLint) 3, GL_FLOAT, (GLsizei) (sizeof (GLfloat) * 11), NULL);
	glNormalPointer (GL_FLOAT, (GLsizei) (sizeof (GLfloat) * 11), (GLvoid*) (sizeof (GLfloat) * 3));
	_tmp10_ = self->priv->_material;
	_tmp11_ = _tmp10_->needsTSLVs;
	if (_tmp11_) {
		GLfloat* _tmp12_;
		gint _tmp12__length1;
		GLfloat* _tmp13_;
		gint _tmp13__length1;
		gint _tmp14_;
		GLfloat* _tmp15_;
		gint _tmp15__length1;
		GLfloat* _tmp16_;
		gint _tmp16__length1;
		_tmp12_ = self->priv->_vercache;
		_tmp12__length1 = self->priv->_vercache_length1;
		soy_bodies_body_calculateTSLV ((soybodiesBody*) self, _tmp12_, _tmp12__length1);
		_tmp13_ = ((soybodiesBody*) self)->tslvs;
		_tmp13__length1 = ((soybodiesBody*) self)->tslvs_length1;
		offset = (gint) (((_tmp13__length1 * sizeof (GLfloat)) * 11) / 3);
		_tmp14_ = offset;
		_tmp15_ = ((soybodiesBody*) self)->tslvs;
		_tmp15__length1 = ((soybodiesBody*) self)->tslvs_length1;
		_tmp16_ = ((soybodiesBody*) self)->tslvs;
		_tmp16__length1 = ((soybodiesBody*) self)->tslvs_length1;
		glBufferSubData (GL_ARRAY_BUFFER, (GLint) ((GLsizei) _tmp14_), (GLsizei) (_tmp15__length1 * sizeof (GLfloat)), _tmp16_);
	}
	while (TRUE) {
		soymaterialsMaterial* _tmp17_;
		gint _tmp18_;
		gint _tmp19_;
		gboolean _tmp20_ = FALSE;
		gint _tmp21_;
		gint _tmp22_;
		_tmp17_ = self->priv->_material;
		_tmp18_ = i;
		_tmp19_ = offset;
		_tmp20_ = soy_materials_material_render (_tmp17_, _tmp18_, (GLvoid*) _tmp19_, NULL);
		if (!_tmp20_) {
			break;
		}
		_tmp21_ = self->SLICES;
		glDrawElements (GL_TRIANGLES, (GLsizei) ((3 * 4) * _tmp21_), GL_UNSIGNED_SHORT, (GLvoid*) 0);
		_tmp22_ = i;
		i = _tmp22_ + 1;
	}
	soy_bodies_body_renderAxis ((soybodiesBody*) self);
	g_mutex_unlock (&((soybodiesBody*) self)->mutex);
	glMatrixMode (GL_MODELVIEW);
	glPopMatrix ();
}


static GLfloat* _vala_array_dup3 (GLfloat* self, int length) {
	return g_memdup (self, length * sizeof (GLfloat));
}


static void _soy_bodies_cylinder_update_cylinder (soybodiesCylinder* self) {
	GLuint _tmp0_;
	GLfloat _tmp3_;
	GLfloat radius;
	GLfloat _tmp4_;
	GLfloat length;
	gint _tmp5_;
	GLushort* _tmp6_ = NULL;
	GLushort* elements;
	gint elements_length1;
	gint _elements_size_;
	gint _tmp7_;
	GLfloat* _tmp8_ = NULL;
	GLfloat* vertices;
	gint vertices_length1;
	gint _vertices_size_;
	GLfloat* _tmp9_;
	gint _tmp9__length1;
	GLfloat _tmp10_;
	GLfloat* _tmp11_;
	gint _tmp11__length1;
	GLfloat _tmp12_;
	GLfloat* _tmp13_;
	gint _tmp13__length1;
	GLfloat _tmp14_;
	GLfloat _tmp15_;
	GLfloat* _tmp16_;
	gint _tmp16__length1;
	GLfloat _tmp17_;
	GLfloat* _tmp18_;
	gint _tmp18__length1;
	GLfloat _tmp19_;
	GLfloat* _tmp20_;
	gint _tmp20__length1;
	GLfloat _tmp21_;
	GLfloat* _tmp22_;
	gint _tmp22__length1;
	GLfloat _tmp23_;
	GLfloat* _tmp24_;
	gint _tmp24__length1;
	GLfloat _tmp25_;
	GLfloat* _tmp26_;
	gint _tmp26__length1;
	GLfloat _tmp27_;
	GLfloat* _tmp28_;
	gint _tmp28__length1;
	GLfloat _tmp29_;
	GLfloat* _tmp30_;
	gint _tmp30__length1;
	GLfloat _tmp31_;
	GLushort* _tmp95_;
	gint _tmp95__length1;
	gint _tmp96_;
	GLushort _tmp97_;
	GLfloat* _tmp98_;
	gint _tmp98__length1;
	gint _tmp99_;
	GLfloat _tmp100_;
	GLfloat* _tmp101_;
	gint _tmp101__length1;
	gint _tmp102_;
	GLfloat _tmp103_;
	GLfloat* _tmp104_;
	gint _tmp104__length1;
	gint _tmp105_;
	GLfloat _tmp106_;
	GLfloat _tmp107_;
	GLfloat* _tmp108_;
	gint _tmp108__length1;
	gint _tmp109_;
	GLfloat _tmp110_;
	GLfloat* _tmp111_;
	gint _tmp111__length1;
	gint _tmp112_;
	GLfloat _tmp113_;
	GLfloat* _tmp114_;
	gint _tmp114__length1;
	gint _tmp115_;
	GLfloat _tmp116_;
	GLfloat* _tmp117_;
	gint _tmp117__length1;
	gint _tmp118_;
	GLfloat _tmp119_;
	GLfloat* _tmp120_;
	gint _tmp120__length1;
	gint _tmp121_;
	GLfloat _tmp122_;
	GLfloat* _tmp123_;
	gint _tmp123__length1;
	gint _tmp124_;
	GLfloat _tmp125_;
	GLfloat* _tmp126_;
	gint _tmp126__length1;
	gint _tmp127_;
	GLfloat _tmp128_;
	GLfloat* _tmp129_;
	gint _tmp129__length1;
	gint _tmp130_;
	GLfloat _tmp131_;
	GLushort* _tmp212_;
	gint _tmp212__length1;
	gint _tmp213_;
	gint _tmp214_;
	GLushort _tmp215_;
	GLushort* _tmp378_;
	gint _tmp378__length1;
	gint _tmp379_;
	gint _tmp380_;
	GLushort _tmp381_;
	GLushort* _tmp382_;
	gint _tmp382__length1;
	gint _tmp383_;
	gint _tmp384_;
	GLushort _tmp385_;
	GLushort* _tmp386_;
	gint _tmp386__length1;
	gint _tmp387_;
	gint _tmp388_;
	GLushort _tmp389_;
	GLfloat* _tmp390_;
	gint _tmp390__length1;
	GLfloat* _tmp391_;
	gint _tmp391__length1;
	GLuint _tmp392_;
	gint _tmp393_;
	GLushort* _tmp394_;
	gint _tmp394__length1;
	GLuint _tmp395_;
	gint _tmp396_;
	GLfloat* _tmp397_;
	gint _tmp397__length1;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->_ebo;
	if (_tmp0_ == ((GLuint) 0)) {
		GLuint _tmp1_ = 0U;
		GLuint _tmp2_ = 0U;
		glGenBuffers ((GLsizei) 1, &_tmp1_);
		self->priv->_ebo = _tmp1_;
		glGenBuffers ((GLsizei) 1, &_tmp2_);
		self->priv->_vbo = _tmp2_;
	}
	_tmp3_ = self->priv->_radius;
	radius = _tmp3_;
	_tmp4_ = self->priv->_length;
	length = _tmp4_ / 2;
	_tmp5_ = self->SLICES;
	_tmp6_ = g_new0 (GLushort, (4 * _tmp5_) * 3);
	elements = _tmp6_;
	elements_length1 = (4 * _tmp5_) * 3;
	_elements_size_ = elements_length1;
	_tmp7_ = self->SLICES;
	_tmp8_ = g_new0 (GLfloat, ((4 * _tmp7_) + 2) * 14);
	vertices = _tmp8_;
	vertices_length1 = ((4 * _tmp7_) + 2) * 14;
	_vertices_size_ = vertices_length1;
	_tmp9_ = vertices;
	_tmp9__length1 = vertices_length1;
	_tmp9_[0] = (GLfloat) 0.0f;
	_tmp10_ = _tmp9_[0];
	_tmp11_ = vertices;
	_tmp11__length1 = vertices_length1;
	_tmp11_[1] = (GLfloat) 0.0f;
	_tmp12_ = _tmp11_[1];
	_tmp13_ = vertices;
	_tmp13__length1 = vertices_length1;
	_tmp14_ = length;
	_tmp13_[2] = _tmp14_;
	_tmp15_ = _tmp13_[2];
	_tmp16_ = vertices;
	_tmp16__length1 = vertices_length1;
	_tmp16_[3] = (GLfloat) 0.0f;
	_tmp17_ = _tmp16_[3];
	_tmp18_ = vertices;
	_tmp18__length1 = vertices_length1;
	_tmp18_[4] = (GLfloat) 0.0f;
	_tmp19_ = _tmp18_[4];
	_tmp20_ = vertices;
	_tmp20__length1 = vertices_length1;
	_tmp20_[5] = (GLfloat) 1.0f;
	_tmp21_ = _tmp20_[5];
	_tmp22_ = vertices;
	_tmp22__length1 = vertices_length1;
	_tmp22_[6] = (GLfloat) 0.5f;
	_tmp23_ = _tmp22_[6];
	_tmp24_ = vertices;
	_tmp24__length1 = vertices_length1;
	_tmp24_[7] = (GLfloat) (5 / 6.0f);
	_tmp25_ = _tmp24_[7];
	_tmp26_ = vertices;
	_tmp26__length1 = vertices_length1;
	_tmp26_[8] = (GLfloat) 0.0f;
	_tmp27_ = _tmp26_[8];
	_tmp28_ = vertices;
	_tmp28__length1 = vertices_length1;
	_tmp28_[9] = (GLfloat) 0.0f;
	_tmp29_ = _tmp28_[9];
	_tmp30_ = vertices;
	_tmp30__length1 = vertices_length1;
	_tmp30_[10] = (GLfloat) 1.0f;
	_tmp31_ = _tmp30_[10];
	{
		gint i;
		i = 0;
		{
			gboolean _tmp32_;
			_tmp32_ = TRUE;
			while (TRUE) {
				gboolean _tmp33_;
				gint _tmp35_;
				GLfloat* _tmp36_;
				gint _tmp36__length1;
				gint _tmp37_;
				GLfloat _tmp38_;
				gint _tmp39_;
				gint _tmp40_;
				gfloat _tmp41_ = 0.0F;
				GLfloat _tmp42_;
				GLfloat* _tmp43_;
				gint _tmp43__length1;
				gint _tmp44_;
				GLfloat _tmp45_;
				gint _tmp46_;
				gint _tmp47_;
				gfloat _tmp48_ = 0.0F;
				GLfloat _tmp49_;
				GLfloat* _tmp50_;
				gint _tmp50__length1;
				gint _tmp51_;
				GLfloat _tmp52_;
				GLfloat _tmp53_;
				GLfloat* _tmp54_;
				gint _tmp54__length1;
				gint _tmp55_;
				GLfloat _tmp56_;
				GLfloat* _tmp57_;
				gint _tmp57__length1;
				gint _tmp58_;
				GLfloat _tmp59_;
				GLfloat* _tmp60_;
				gint _tmp60__length1;
				gint _tmp61_;
				GLfloat _tmp62_;
				GLfloat* _tmp63_;
				gint _tmp63__length1;
				gint _tmp64_;
				gint _tmp65_;
				gint _tmp66_;
				gfloat _tmp67_ = 0.0F;
				GLfloat _tmp68_;
				GLfloat* _tmp69_;
				gint _tmp69__length1;
				gint _tmp70_;
				gint _tmp71_;
				gint _tmp72_;
				gfloat _tmp73_ = 0.0F;
				GLfloat _tmp74_;
				GLfloat* _tmp75_;
				gint _tmp75__length1;
				gint _tmp76_;
				GLfloat _tmp77_;
				GLfloat* _tmp78_;
				gint _tmp78__length1;
				gint _tmp79_;
				GLfloat _tmp80_;
				GLfloat* _tmp81_;
				gint _tmp81__length1;
				gint _tmp82_;
				GLfloat _tmp83_;
				GLushort* _tmp84_;
				gint _tmp84__length1;
				gint _tmp85_;
				GLushort _tmp86_;
				GLushort* _tmp87_;
				gint _tmp87__length1;
				gint _tmp88_;
				gint _tmp89_;
				GLushort _tmp90_;
				GLushort* _tmp91_;
				gint _tmp91__length1;
				gint _tmp92_;
				gint _tmp93_;
				GLushort _tmp94_;
				_tmp33_ = _tmp32_;
				if (!_tmp33_) {
					gint _tmp34_;
					_tmp34_ = i;
					i = _tmp34_ + 1;
				}
				_tmp32_ = FALSE;
				_tmp35_ = self->SLICES;
				if (!(i <= (_tmp35_ - 1))) {
					break;
				}
				_tmp36_ = vertices;
				_tmp36__length1 = vertices_length1;
				_tmp37_ = i;
				_tmp38_ = radius;
				_tmp39_ = i;
				_tmp40_ = self->SLICES;
				_tmp41_ = sinf (((2 * _tmp39_) * ((gfloat) G_PI)) / _tmp40_);
				_tmp36_[(_tmp37_ + 1) * 11] = _tmp38_ * _tmp41_;
				_tmp42_ = _tmp36_[(_tmp37_ + 1) * 11];
				_tmp43_ = vertices;
				_tmp43__length1 = vertices_length1;
				_tmp44_ = i;
				_tmp45_ = radius;
				_tmp46_ = i;
				_tmp47_ = self->SLICES;
				_tmp48_ = cosf (((2 * _tmp46_) * ((gfloat) G_PI)) / _tmp47_);
				_tmp43_[((_tmp44_ + 1) * 11) + 1] = _tmp45_ * _tmp48_;
				_tmp49_ = _tmp43_[((_tmp44_ + 1) * 11) + 1];
				_tmp50_ = vertices;
				_tmp50__length1 = vertices_length1;
				_tmp51_ = i;
				_tmp52_ = length;
				_tmp50_[((_tmp51_ + 1) * 11) + 2] = _tmp52_;
				_tmp53_ = _tmp50_[((_tmp51_ + 1) * 11) + 2];
				_tmp54_ = vertices;
				_tmp54__length1 = vertices_length1;
				_tmp55_ = i;
				_tmp54_[((_tmp55_ + 1) * 11) + 3] = (GLfloat) 0.0f;
				_tmp56_ = _tmp54_[((_tmp55_ + 1) * 11) + 3];
				_tmp57_ = vertices;
				_tmp57__length1 = vertices_length1;
				_tmp58_ = i;
				_tmp57_[((_tmp58_ + 1) * 11) + 4] = (GLfloat) 0.0f;
				_tmp59_ = _tmp57_[((_tmp58_ + 1) * 11) + 4];
				_tmp60_ = vertices;
				_tmp60__length1 = vertices_length1;
				_tmp61_ = i;
				_tmp60_[((_tmp61_ + 1) * 11) + 5] = (GLfloat) 1.0f;
				_tmp62_ = _tmp60_[((_tmp61_ + 1) * 11) + 5];
				_tmp63_ = vertices;
				_tmp63__length1 = vertices_length1;
				_tmp64_ = i;
				_tmp65_ = i;
				_tmp66_ = self->SLICES;
				_tmp67_ = sinf (((2 * _tmp65_) * ((gfloat) G_PI)) / _tmp66_);
				_tmp63_[((_tmp64_ + 1) * 11) + 6] = (GLfloat) (0.5f + ((1 / 6.0f) * _tmp67_));
				_tmp68_ = _tmp63_[((_tmp64_ + 1) * 11) + 6];
				_tmp69_ = vertices;
				_tmp69__length1 = vertices_length1;
				_tmp70_ = i;
				_tmp71_ = i;
				_tmp72_ = self->SLICES;
				_tmp73_ = cosf (((2 * _tmp71_) * ((gfloat) G_PI)) / _tmp72_);
				_tmp69_[((_tmp70_ + 1) * 11) + 7] = (GLfloat) ((5 / 6.0f) + ((1 / 6.0f) * _tmp73_));
				_tmp74_ = _tmp69_[((_tmp70_ + 1) * 11) + 7];
				_tmp75_ = vertices;
				_tmp75__length1 = vertices_length1;
				_tmp76_ = i;
				_tmp75_[((_tmp76_ + 1) * 11) + 8] = (GLfloat) 0.0f;
				_tmp77_ = _tmp75_[((_tmp76_ + 1) * 11) + 8];
				_tmp78_ = vertices;
				_tmp78__length1 = vertices_length1;
				_tmp79_ = i;
				_tmp78_[((_tmp79_ + 1) * 11) + 9] = (GLfloat) 1.0f;
				_tmp80_ = _tmp78_[((_tmp79_ + 1) * 11) + 9];
				_tmp81_ = vertices;
				_tmp81__length1 = vertices_length1;
				_tmp82_ = i;
				_tmp81_[((_tmp82_ + 1) * 11) + 10] = (GLfloat) 0.0f;
				_tmp83_ = _tmp81_[((_tmp82_ + 1) * 11) + 10];
				_tmp84_ = elements;
				_tmp84__length1 = elements_length1;
				_tmp85_ = i;
				_tmp84_[_tmp85_ * 3] = (GLushort) 0;
				_tmp86_ = _tmp84_[_tmp85_ * 3];
				_tmp87_ = elements;
				_tmp87__length1 = elements_length1;
				_tmp88_ = i;
				_tmp89_ = i;
				_tmp87_[(_tmp88_ * 3) + 1] = (GLushort) (_tmp89_ + 2);
				_tmp90_ = _tmp87_[(_tmp88_ * 3) + 1];
				_tmp91_ = elements;
				_tmp91__length1 = elements_length1;
				_tmp92_ = i;
				_tmp93_ = i;
				_tmp91_[(_tmp92_ * 3) + 2] = (GLushort) (_tmp93_ + 1);
				_tmp94_ = _tmp91_[(_tmp92_ * 3) + 2];
			}
		}
	}
	_tmp95_ = elements;
	_tmp95__length1 = elements_length1;
	_tmp96_ = self->SLICES;
	_tmp95_[((_tmp96_ - 1) * 3) + 1] = (GLushort) 1;
	_tmp97_ = _tmp95_[((_tmp96_ - 1) * 3) + 1];
	_tmp98_ = vertices;
	_tmp98__length1 = vertices_length1;
	_tmp99_ = self->SLICES;
	_tmp98_[((4 * _tmp99_) + 1) * 11] = (GLfloat) 0.0f;
	_tmp100_ = _tmp98_[((4 * _tmp99_) + 1) * 11];
	_tmp101_ = vertices;
	_tmp101__length1 = vertices_length1;
	_tmp102_ = self->SLICES;
	_tmp101_[(((4 * _tmp102_) + 1) * 11) + 1] = (GLfloat) 0.0f;
	_tmp103_ = _tmp101_[(((4 * _tmp102_) + 1) * 11) + 1];
	_tmp104_ = vertices;
	_tmp104__length1 = vertices_length1;
	_tmp105_ = self->SLICES;
	_tmp106_ = length;
	_tmp104_[(((4 * _tmp105_) + 1) * 11) + 2] = -_tmp106_;
	_tmp107_ = _tmp104_[(((4 * _tmp105_) + 1) * 11) + 2];
	_tmp108_ = vertices;
	_tmp108__length1 = vertices_length1;
	_tmp109_ = self->SLICES;
	_tmp108_[(((4 * _tmp109_) + 1) * 11) + 3] = (GLfloat) 0.0f;
	_tmp110_ = _tmp108_[(((4 * _tmp109_) + 1) * 11) + 3];
	_tmp111_ = vertices;
	_tmp111__length1 = vertices_length1;
	_tmp112_ = self->SLICES;
	_tmp111_[(((4 * _tmp112_) + 1) * 11) + 4] = (GLfloat) 0.0f;
	_tmp113_ = _tmp111_[(((4 * _tmp112_) + 1) * 11) + 4];
	_tmp114_ = vertices;
	_tmp114__length1 = vertices_length1;
	_tmp115_ = self->SLICES;
	_tmp114_[(((4 * _tmp115_) + 1) * 11) + 5] = (GLfloat) (-1.0f);
	_tmp116_ = _tmp114_[(((4 * _tmp115_) + 1) * 11) + 5];
	_tmp117_ = vertices;
	_tmp117__length1 = vertices_length1;
	_tmp118_ = self->SLICES;
	_tmp117_[(((4 * _tmp118_) + 1) * 11) + 6] = (GLfloat) 0.5f;
	_tmp119_ = _tmp117_[(((4 * _tmp118_) + 1) * 11) + 6];
	_tmp120_ = vertices;
	_tmp120__length1 = vertices_length1;
	_tmp121_ = self->SLICES;
	_tmp120_[(((4 * _tmp121_) + 1) * 11) + 7] = (GLfloat) (1 / 6.0f);
	_tmp122_ = _tmp120_[(((4 * _tmp121_) + 1) * 11) + 7];
	_tmp123_ = vertices;
	_tmp123__length1 = vertices_length1;
	_tmp124_ = self->SLICES;
	_tmp123_[(((4 * _tmp124_) + 1) * 11) + 8] = (GLfloat) 0.0f;
	_tmp125_ = _tmp123_[(((4 * _tmp124_) + 1) * 11) + 8];
	_tmp126_ = vertices;
	_tmp126__length1 = vertices_length1;
	_tmp127_ = self->SLICES;
	_tmp126_[(((4 * _tmp127_) + 1) * 11) + 9] = (GLfloat) (-1.0f);
	_tmp128_ = _tmp126_[(((4 * _tmp127_) + 1) * 11) + 9];
	_tmp129_ = vertices;
	_tmp129__length1 = vertices_length1;
	_tmp130_ = self->SLICES;
	_tmp129_[(((4 * _tmp130_) + 1) * 11) + 10] = (GLfloat) 0.0f;
	_tmp131_ = _tmp129_[(((4 * _tmp130_) + 1) * 11) + 10];
	{
		gint i;
		i = 0;
		{
			gboolean _tmp132_;
			_tmp132_ = TRUE;
			while (TRUE) {
				gboolean _tmp133_;
				gint _tmp135_;
				GLfloat* _tmp136_;
				gint _tmp136__length1;
				gint _tmp137_;
				gint _tmp138_;
				GLfloat _tmp139_;
				gint _tmp140_;
				gint _tmp141_;
				gfloat _tmp142_ = 0.0F;
				GLfloat _tmp143_;
				GLfloat* _tmp144_;
				gint _tmp144__length1;
				gint _tmp145_;
				gint _tmp146_;
				GLfloat _tmp147_;
				gint _tmp148_;
				gint _tmp149_;
				gfloat _tmp150_ = 0.0F;
				GLfloat _tmp151_;
				GLfloat* _tmp152_;
				gint _tmp152__length1;
				gint _tmp153_;
				gint _tmp154_;
				GLfloat _tmp155_;
				GLfloat _tmp156_;
				GLfloat* _tmp157_;
				gint _tmp157__length1;
				gint _tmp158_;
				gint _tmp159_;
				GLfloat _tmp160_;
				GLfloat* _tmp161_;
				gint _tmp161__length1;
				gint _tmp162_;
				gint _tmp163_;
				GLfloat _tmp164_;
				GLfloat* _tmp165_;
				gint _tmp165__length1;
				gint _tmp166_;
				gint _tmp167_;
				GLfloat _tmp168_;
				GLfloat* _tmp169_;
				gint _tmp169__length1;
				gint _tmp170_;
				gint _tmp171_;
				gint _tmp172_;
				gint _tmp173_;
				gfloat _tmp174_ = 0.0F;
				GLfloat _tmp175_;
				GLfloat* _tmp176_;
				gint _tmp176__length1;
				gint _tmp177_;
				gint _tmp178_;
				gint _tmp179_;
				gint _tmp180_;
				gfloat _tmp181_ = 0.0F;
				GLfloat _tmp182_;
				GLfloat* _tmp183_;
				gint _tmp183__length1;
				gint _tmp184_;
				gint _tmp185_;
				GLfloat _tmp186_;
				GLfloat* _tmp187_;
				gint _tmp187__length1;
				gint _tmp188_;
				gint _tmp189_;
				GLfloat _tmp190_;
				GLfloat* _tmp191_;
				gint _tmp191__length1;
				gint _tmp192_;
				gint _tmp193_;
				GLfloat _tmp194_;
				GLushort* _tmp195_;
				gint _tmp195__length1;
				gint _tmp196_;
				gint _tmp197_;
				gint _tmp198_;
				GLushort _tmp199_;
				GLushort* _tmp200_;
				gint _tmp200__length1;
				gint _tmp201_;
				gint _tmp202_;
				gint _tmp203_;
				gint _tmp204_;
				GLushort _tmp205_;
				GLushort* _tmp206_;
				gint _tmp206__length1;
				gint _tmp207_;
				gint _tmp208_;
				gint _tmp209_;
				gint _tmp210_;
				GLushort _tmp211_;
				_tmp133_ = _tmp132_;
				if (!_tmp133_) {
					gint _tmp134_;
					_tmp134_ = i;
					i = _tmp134_ + 1;
				}
				_tmp132_ = FALSE;
				_tmp135_ = self->SLICES;
				if (!(i <= (_tmp135_ - 1))) {
					break;
				}
				_tmp136_ = vertices;
				_tmp136__length1 = vertices_length1;
				_tmp137_ = self->SLICES;
				_tmp138_ = i;
				_tmp139_ = radius;
				_tmp140_ = i;
				_tmp141_ = self->SLICES;
				_tmp142_ = sinf (((2 * _tmp140_) * ((gfloat) G_PI)) / _tmp141_);
				_tmp136_[(((3 * _tmp137_) + _tmp138_) + 1) * 11] = _tmp139_ * _tmp142_;
				_tmp143_ = _tmp136_[(((3 * _tmp137_) + _tmp138_) + 1) * 11];
				_tmp144_ = vertices;
				_tmp144__length1 = vertices_length1;
				_tmp145_ = self->SLICES;
				_tmp146_ = i;
				_tmp147_ = radius;
				_tmp148_ = i;
				_tmp149_ = self->SLICES;
				_tmp150_ = cosf (((2 * _tmp148_) * ((gfloat) G_PI)) / _tmp149_);
				_tmp144_[((((3 * _tmp145_) + _tmp146_) + 1) * 11) + 1] = _tmp147_ * _tmp150_;
				_tmp151_ = _tmp144_[((((3 * _tmp145_) + _tmp146_) + 1) * 11) + 1];
				_tmp152_ = vertices;
				_tmp152__length1 = vertices_length1;
				_tmp153_ = self->SLICES;
				_tmp154_ = i;
				_tmp155_ = length;
				_tmp152_[((((3 * _tmp153_) + _tmp154_) + 1) * 11) + 2] = -_tmp155_;
				_tmp156_ = _tmp152_[((((3 * _tmp153_) + _tmp154_) + 1) * 11) + 2];
				_tmp157_ = vertices;
				_tmp157__length1 = vertices_length1;
				_tmp158_ = self->SLICES;
				_tmp159_ = i;
				_tmp157_[((((3 * _tmp158_) + _tmp159_) + 1) * 11) + 3] = (GLfloat) 0.0f;
				_tmp160_ = _tmp157_[((((3 * _tmp158_) + _tmp159_) + 1) * 11) + 3];
				_tmp161_ = vertices;
				_tmp161__length1 = vertices_length1;
				_tmp162_ = self->SLICES;
				_tmp163_ = i;
				_tmp161_[((((3 * _tmp162_) + _tmp163_) + 1) * 11) + 4] = (GLfloat) 0.0f;
				_tmp164_ = _tmp161_[((((3 * _tmp162_) + _tmp163_) + 1) * 11) + 4];
				_tmp165_ = vertices;
				_tmp165__length1 = vertices_length1;
				_tmp166_ = self->SLICES;
				_tmp167_ = i;
				_tmp165_[((((3 * _tmp166_) + _tmp167_) + 1) * 11) + 5] = (GLfloat) (-1.0f);
				_tmp168_ = _tmp165_[((((3 * _tmp166_) + _tmp167_) + 1) * 11) + 5];
				_tmp169_ = vertices;
				_tmp169__length1 = vertices_length1;
				_tmp170_ = self->SLICES;
				_tmp171_ = i;
				_tmp172_ = i;
				_tmp173_ = self->SLICES;
				_tmp174_ = sinf (((2 * _tmp172_) * ((gfloat) G_PI)) / _tmp173_);
				_tmp169_[((((3 * _tmp170_) + _tmp171_) + 1) * 11) + 6] = (GLfloat) (0.5f + ((1 / 6.0f) * _tmp174_));
				_tmp175_ = _tmp169_[((((3 * _tmp170_) + _tmp171_) + 1) * 11) + 6];
				_tmp176_ = vertices;
				_tmp176__length1 = vertices_length1;
				_tmp177_ = self->SLICES;
				_tmp178_ = i;
				_tmp179_ = i;
				_tmp180_ = self->SLICES;
				_tmp181_ = cosf (((2 * _tmp179_) * ((gfloat) G_PI)) / _tmp180_);
				_tmp176_[((((3 * _tmp177_) + _tmp178_) + 1) * 11) + 7] = (GLfloat) ((1 / 6.0f) - ((1 / 6.0f) * _tmp181_));
				_tmp182_ = _tmp176_[((((3 * _tmp177_) + _tmp178_) + 1) * 11) + 7];
				_tmp183_ = vertices;
				_tmp183__length1 = vertices_length1;
				_tmp184_ = self->SLICES;
				_tmp185_ = i;
				_tmp183_[((((3 * _tmp184_) + _tmp185_) + 1) * 11) + 8] = (GLfloat) 0.0f;
				_tmp186_ = _tmp183_[((((3 * _tmp184_) + _tmp185_) + 1) * 11) + 8];
				_tmp187_ = vertices;
				_tmp187__length1 = vertices_length1;
				_tmp188_ = self->SLICES;
				_tmp189_ = i;
				_tmp187_[((((3 * _tmp188_) + _tmp189_) + 1) * 11) + 9] = (GLfloat) (-1.0f);
				_tmp190_ = _tmp187_[((((3 * _tmp188_) + _tmp189_) + 1) * 11) + 9];
				_tmp191_ = vertices;
				_tmp191__length1 = vertices_length1;
				_tmp192_ = self->SLICES;
				_tmp193_ = i;
				_tmp191_[((((3 * _tmp192_) + _tmp193_) + 1) * 11) + 10] = (GLfloat) 0.0f;
				_tmp194_ = _tmp191_[((((3 * _tmp192_) + _tmp193_) + 1) * 11) + 10];
				_tmp195_ = elements;
				_tmp195__length1 = elements_length1;
				_tmp196_ = self->SLICES;
				_tmp197_ = i;
				_tmp198_ = self->SLICES;
				_tmp195_[((3 * _tmp196_) + _tmp197_) * 3] = (GLushort) ((4 * _tmp198_) + 1);
				_tmp199_ = _tmp195_[((3 * _tmp196_) + _tmp197_) * 3];
				_tmp200_ = elements;
				_tmp200__length1 = elements_length1;
				_tmp201_ = self->SLICES;
				_tmp202_ = i;
				_tmp203_ = self->SLICES;
				_tmp204_ = i;
				_tmp200_[(((3 * _tmp201_) + _tmp202_) * 3) + 1] = (GLushort) (((3 * _tmp203_) + _tmp204_) + 1);
				_tmp205_ = _tmp200_[(((3 * _tmp201_) + _tmp202_) * 3) + 1];
				_tmp206_ = elements;
				_tmp206__length1 = elements_length1;
				_tmp207_ = self->SLICES;
				_tmp208_ = i;
				_tmp209_ = self->SLICES;
				_tmp210_ = i;
				_tmp206_[(((3 * _tmp207_) + _tmp208_) * 3) + 2] = (GLushort) (((3 * _tmp209_) + _tmp210_) + 2);
				_tmp211_ = _tmp206_[(((3 * _tmp207_) + _tmp208_) * 3) + 2];
			}
		}
	}
	_tmp212_ = elements;
	_tmp212__length1 = elements_length1;
	_tmp213_ = self->SLICES;
	_tmp214_ = self->SLICES;
	_tmp212_[(((4 * _tmp213_) - 1) * 3) + 2] = (GLushort) ((3 * _tmp214_) + 1);
	_tmp215_ = _tmp212_[(((4 * _tmp213_) - 1) * 3) + 2];
	{
		gint i;
		i = 0;
		{
			gboolean _tmp216_;
			_tmp216_ = TRUE;
			while (TRUE) {
				gboolean _tmp217_;
				gint _tmp219_;
				GLfloat* _tmp220_;
				gint _tmp220__length1;
				gint _tmp221_;
				gint _tmp222_;
				GLfloat _tmp223_;
				gint _tmp224_;
				gint _tmp225_;
				gfloat _tmp226_ = 0.0F;
				GLfloat _tmp227_;
				GLfloat* _tmp228_;
				gint _tmp228__length1;
				gint _tmp229_;
				gint _tmp230_;
				GLfloat _tmp231_;
				gint _tmp232_;
				gint _tmp233_;
				gfloat _tmp234_ = 0.0F;
				GLfloat _tmp235_;
				GLfloat* _tmp236_;
				gint _tmp236__length1;
				gint _tmp237_;
				gint _tmp238_;
				GLfloat _tmp239_;
				GLfloat _tmp240_;
				GLfloat* _tmp241_;
				gint _tmp241__length1;
				gint _tmp242_;
				gint _tmp243_;
				gint _tmp244_;
				gint _tmp245_;
				gfloat _tmp246_ = 0.0F;
				GLfloat _tmp247_;
				GLfloat* _tmp248_;
				gint _tmp248__length1;
				gint _tmp249_;
				gint _tmp250_;
				gint _tmp251_;
				gint _tmp252_;
				gfloat _tmp253_ = 0.0F;
				GLfloat _tmp254_;
				GLfloat* _tmp255_;
				gint _tmp255__length1;
				gint _tmp256_;
				gint _tmp257_;
				GLfloat _tmp258_;
				GLfloat* _tmp259_;
				gint _tmp259__length1;
				gint _tmp260_;
				gint _tmp261_;
				gint _tmp262_;
				gint _tmp263_;
				GLfloat _tmp264_;
				GLfloat* _tmp265_;
				gint _tmp265__length1;
				gint _tmp266_;
				gint _tmp267_;
				GLfloat _tmp268_;
				GLfloat* _tmp269_;
				gint _tmp269__length1;
				gint _tmp270_;
				gint _tmp271_;
				GLfloat _tmp272_;
				GLfloat* _tmp273_;
				gint _tmp273__length1;
				gint _tmp274_;
				gint _tmp275_;
				GLfloat _tmp276_;
				GLfloat* _tmp277_;
				gint _tmp277__length1;
				gint _tmp278_;
				gint _tmp279_;
				GLfloat _tmp280_;
				GLfloat* _tmp281_;
				gint _tmp281__length1;
				gint _tmp282_;
				gint _tmp283_;
				GLfloat _tmp284_;
				gint _tmp285_;
				gint _tmp286_;
				gfloat _tmp287_ = 0.0F;
				GLfloat _tmp288_;
				GLfloat* _tmp289_;
				gint _tmp289__length1;
				gint _tmp290_;
				gint _tmp291_;
				GLfloat _tmp292_;
				gint _tmp293_;
				gint _tmp294_;
				gfloat _tmp295_ = 0.0F;
				GLfloat _tmp296_;
				GLfloat* _tmp297_;
				gint _tmp297__length1;
				gint _tmp298_;
				gint _tmp299_;
				GLfloat _tmp300_;
				GLfloat _tmp301_;
				GLfloat* _tmp302_;
				gint _tmp302__length1;
				gint _tmp303_;
				gint _tmp304_;
				gint _tmp305_;
				gint _tmp306_;
				gfloat _tmp307_ = 0.0F;
				GLfloat _tmp308_;
				GLfloat* _tmp309_;
				gint _tmp309__length1;
				gint _tmp310_;
				gint _tmp311_;
				gint _tmp312_;
				gint _tmp313_;
				gfloat _tmp314_ = 0.0F;
				GLfloat _tmp315_;
				GLfloat* _tmp316_;
				gint _tmp316__length1;
				gint _tmp317_;
				gint _tmp318_;
				GLfloat _tmp319_;
				GLfloat* _tmp320_;
				gint _tmp320__length1;
				gint _tmp321_;
				gint _tmp322_;
				gint _tmp323_;
				gint _tmp324_;
				GLfloat _tmp325_;
				GLfloat* _tmp326_;
				gint _tmp326__length1;
				gint _tmp327_;
				gint _tmp328_;
				GLfloat _tmp329_;
				GLfloat* _tmp330_;
				gint _tmp330__length1;
				gint _tmp331_;
				gint _tmp332_;
				GLfloat _tmp333_;
				GLfloat* _tmp334_;
				gint _tmp334__length1;
				gint _tmp335_;
				gint _tmp336_;
				GLfloat _tmp337_;
				GLfloat* _tmp338_;
				gint _tmp338__length1;
				gint _tmp339_;
				gint _tmp340_;
				GLfloat _tmp341_;
				GLushort* _tmp342_;
				gint _tmp342__length1;
				gint _tmp343_;
				gint _tmp344_;
				gint _tmp345_;
				gint _tmp346_;
				GLushort _tmp347_;
				GLushort* _tmp348_;
				gint _tmp348__length1;
				gint _tmp349_;
				gint _tmp350_;
				gint _tmp351_;
				gint _tmp352_;
				GLushort _tmp353_;
				GLushort* _tmp354_;
				gint _tmp354__length1;
				gint _tmp355_;
				gint _tmp356_;
				gint _tmp357_;
				gint _tmp358_;
				GLushort _tmp359_;
				GLushort* _tmp360_;
				gint _tmp360__length1;
				gint _tmp361_;
				gint _tmp362_;
				gint _tmp363_;
				gint _tmp364_;
				GLushort _tmp365_;
				GLushort* _tmp366_;
				gint _tmp366__length1;
				gint _tmp367_;
				gint _tmp368_;
				gint _tmp369_;
				gint _tmp370_;
				GLushort _tmp371_;
				GLushort* _tmp372_;
				gint _tmp372__length1;
				gint _tmp373_;
				gint _tmp374_;
				gint _tmp375_;
				gint _tmp376_;
				GLushort _tmp377_;
				_tmp217_ = _tmp216_;
				if (!_tmp217_) {
					gint _tmp218_;
					_tmp218_ = i;
					i = _tmp218_ + 1;
				}
				_tmp216_ = FALSE;
				_tmp219_ = self->SLICES;
				if (!(i <= (_tmp219_ - 1))) {
					break;
				}
				_tmp220_ = vertices;
				_tmp220__length1 = vertices_length1;
				_tmp221_ = self->SLICES;
				_tmp222_ = i;
				_tmp223_ = radius;
				_tmp224_ = i;
				_tmp225_ = self->SLICES;
				_tmp226_ = sinf (((2 * _tmp224_) * ((gfloat) G_PI)) / _tmp225_);
				_tmp220_[((_tmp221_ + (_tmp222_ * 2)) + 1) * 11] = _tmp223_ * _tmp226_;
				_tmp227_ = _tmp220_[((_tmp221_ + (_tmp222_ * 2)) + 1) * 11];
				_tmp228_ = vertices;
				_tmp228__length1 = vertices_length1;
				_tmp229_ = self->SLICES;
				_tmp230_ = i;
				_tmp231_ = radius;
				_tmp232_ = i;
				_tmp233_ = self->SLICES;
				_tmp234_ = cosf (((2 * _tmp232_) * ((gfloat) G_PI)) / _tmp233_);
				_tmp228_[(((_tmp229_ + (_tmp230_ * 2)) + 1) * 11) + 1] = _tmp231_ * _tmp234_;
				_tmp235_ = _tmp228_[(((_tmp229_ + (_tmp230_ * 2)) + 1) * 11) + 1];
				_tmp236_ = vertices;
				_tmp236__length1 = vertices_length1;
				_tmp237_ = self->SLICES;
				_tmp238_ = i;
				_tmp239_ = length;
				_tmp236_[(((_tmp237_ + (_tmp238_ * 2)) + 1) * 11) + 2] = _tmp239_;
				_tmp240_ = _tmp236_[(((_tmp237_ + (_tmp238_ * 2)) + 1) * 11) + 2];
				_tmp241_ = vertices;
				_tmp241__length1 = vertices_length1;
				_tmp242_ = self->SLICES;
				_tmp243_ = i;
				_tmp244_ = i;
				_tmp245_ = self->SLICES;
				_tmp246_ = sinf (((2 * _tmp244_) * ((gfloat) G_PI)) / _tmp245_);
				_tmp241_[(((_tmp242_ + (_tmp243_ * 2)) + 1) * 11) + 3] = (GLfloat) _tmp246_;
				_tmp247_ = _tmp241_[(((_tmp242_ + (_tmp243_ * 2)) + 1) * 11) + 3];
				_tmp248_ = vertices;
				_tmp248__length1 = vertices_length1;
				_tmp249_ = self->SLICES;
				_tmp250_ = i;
				_tmp251_ = i;
				_tmp252_ = self->SLICES;
				_tmp253_ = cosf (((2 * _tmp251_) * ((gfloat) G_PI)) / _tmp252_);
				_tmp248_[(((_tmp249_ + (_tmp250_ * 2)) + 1) * 11) + 4] = (GLfloat) _tmp253_;
				_tmp254_ = _tmp248_[(((_tmp249_ + (_tmp250_ * 2)) + 1) * 11) + 4];
				_tmp255_ = vertices;
				_tmp255__length1 = vertices_length1;
				_tmp256_ = self->SLICES;
				_tmp257_ = i;
				_tmp255_[(((_tmp256_ + (_tmp257_ * 2)) + 1) * 11) + 5] = (GLfloat) 0.0f;
				_tmp258_ = _tmp255_[(((_tmp256_ + (_tmp257_ * 2)) + 1) * 11) + 5];
				_tmp259_ = vertices;
				_tmp259__length1 = vertices_length1;
				_tmp260_ = self->SLICES;
				_tmp261_ = i;
				_tmp262_ = i;
				_tmp263_ = self->SLICES;
				_tmp259_[(((_tmp260_ + (_tmp261_ * 2)) + 1) * 11) + 6] = (GLfloat) (((-_tmp262_) / ((gfloat) (_tmp263_ - 1))) + 1);
				_tmp264_ = _tmp259_[(((_tmp260_ + (_tmp261_ * 2)) + 1) * 11) + 6];
				_tmp265_ = vertices;
				_tmp265__length1 = vertices_length1;
				_tmp266_ = self->SLICES;
				_tmp267_ = i;
				_tmp265_[(((_tmp266_ + (_tmp267_ * 2)) + 1) * 11) + 7] = (GLfloat) (2 / 3.0f);
				_tmp268_ = _tmp265_[(((_tmp266_ + (_tmp267_ * 2)) + 1) * 11) + 7];
				_tmp269_ = vertices;
				_tmp269__length1 = vertices_length1;
				_tmp270_ = self->SLICES;
				_tmp271_ = i;
				_tmp269_[(((_tmp270_ + (_tmp271_ * 2)) + 1) * 11) + 8] = (GLfloat) 0.0f;
				_tmp272_ = _tmp269_[(((_tmp270_ + (_tmp271_ * 2)) + 1) * 11) + 8];
				_tmp273_ = vertices;
				_tmp273__length1 = vertices_length1;
				_tmp274_ = self->SLICES;
				_tmp275_ = i;
				_tmp273_[(((_tmp274_ + (_tmp275_ * 2)) + 1) * 11) + 9] = (GLfloat) 0.0f;
				_tmp276_ = _tmp273_[(((_tmp274_ + (_tmp275_ * 2)) + 1) * 11) + 9];
				_tmp277_ = vertices;
				_tmp277__length1 = vertices_length1;
				_tmp278_ = self->SLICES;
				_tmp279_ = i;
				_tmp277_[(((_tmp278_ + (_tmp279_ * 2)) + 1) * 11) + 10] = (GLfloat) 1.0f;
				_tmp280_ = _tmp277_[(((_tmp278_ + (_tmp279_ * 2)) + 1) * 11) + 10];
				_tmp281_ = vertices;
				_tmp281__length1 = vertices_length1;
				_tmp282_ = self->SLICES;
				_tmp283_ = i;
				_tmp284_ = radius;
				_tmp285_ = i;
				_tmp286_ = self->SLICES;
				_tmp287_ = sinf (((2 * _tmp285_) * ((gfloat) G_PI)) / _tmp286_);
				_tmp281_[((_tmp282_ + (_tmp283_ * 2)) + 2) * 11] = _tmp284_ * _tmp287_;
				_tmp288_ = _tmp281_[((_tmp282_ + (_tmp283_ * 2)) + 2) * 11];
				_tmp289_ = vertices;
				_tmp289__length1 = vertices_length1;
				_tmp290_ = self->SLICES;
				_tmp291_ = i;
				_tmp292_ = radius;
				_tmp293_ = i;
				_tmp294_ = self->SLICES;
				_tmp295_ = cosf (((2 * _tmp293_) * ((gfloat) G_PI)) / _tmp294_);
				_tmp289_[(((_tmp290_ + (_tmp291_ * 2)) + 2) * 11) + 1] = _tmp292_ * _tmp295_;
				_tmp296_ = _tmp289_[(((_tmp290_ + (_tmp291_ * 2)) + 2) * 11) + 1];
				_tmp297_ = vertices;
				_tmp297__length1 = vertices_length1;
				_tmp298_ = self->SLICES;
				_tmp299_ = i;
				_tmp300_ = length;
				_tmp297_[(((_tmp298_ + (_tmp299_ * 2)) + 2) * 11) + 2] = -_tmp300_;
				_tmp301_ = _tmp297_[(((_tmp298_ + (_tmp299_ * 2)) + 2) * 11) + 2];
				_tmp302_ = vertices;
				_tmp302__length1 = vertices_length1;
				_tmp303_ = self->SLICES;
				_tmp304_ = i;
				_tmp305_ = i;
				_tmp306_ = self->SLICES;
				_tmp307_ = sinf (((2 * _tmp305_) * ((gfloat) G_PI)) / _tmp306_);
				_tmp302_[(((_tmp303_ + (_tmp304_ * 2)) + 2) * 11) + 3] = (GLfloat) _tmp307_;
				_tmp308_ = _tmp302_[(((_tmp303_ + (_tmp304_ * 2)) + 2) * 11) + 3];
				_tmp309_ = vertices;
				_tmp309__length1 = vertices_length1;
				_tmp310_ = self->SLICES;
				_tmp311_ = i;
				_tmp312_ = i;
				_tmp313_ = self->SLICES;
				_tmp314_ = cosf (((2 * _tmp312_) * ((gfloat) G_PI)) / _tmp313_);
				_tmp309_[(((_tmp310_ + (_tmp311_ * 2)) + 2) * 11) + 4] = (GLfloat) _tmp314_;
				_tmp315_ = _tmp309_[(((_tmp310_ + (_tmp311_ * 2)) + 2) * 11) + 4];
				_tmp316_ = vertices;
				_tmp316__length1 = vertices_length1;
				_tmp317_ = self->SLICES;
				_tmp318_ = i;
				_tmp316_[(((_tmp317_ + (_tmp318_ * 2)) + 2) * 11) + 5] = (GLfloat) 0.0f;
				_tmp319_ = _tmp316_[(((_tmp317_ + (_tmp318_ * 2)) + 2) * 11) + 5];
				_tmp320_ = vertices;
				_tmp320__length1 = vertices_length1;
				_tmp321_ = self->SLICES;
				_tmp322_ = i;
				_tmp323_ = i;
				_tmp324_ = self->SLICES;
				_tmp320_[(((_tmp321_ + (_tmp322_ * 2)) + 2) * 11) + 6] = (GLfloat) (((-_tmp323_) / ((gfloat) (_tmp324_ - 1))) + 1);
				_tmp325_ = _tmp320_[(((_tmp321_ + (_tmp322_ * 2)) + 2) * 11) + 6];
				_tmp326_ = vertices;
				_tmp326__length1 = vertices_length1;
				_tmp327_ = self->SLICES;
				_tmp328_ = i;
				_tmp326_[(((_tmp327_ + (_tmp328_ * 2)) + 2) * 11) + 7] = (GLfloat) (1 / 3.0f);
				_tmp329_ = _tmp326_[(((_tmp327_ + (_tmp328_ * 2)) + 2) * 11) + 7];
				_tmp330_ = vertices;
				_tmp330__length1 = vertices_length1;
				_tmp331_ = self->SLICES;
				_tmp332_ = i;
				_tmp330_[(((_tmp331_ + (_tmp332_ * 2)) + 2) * 11) + 8] = (GLfloat) 0.0f;
				_tmp333_ = _tmp330_[(((_tmp331_ + (_tmp332_ * 2)) + 2) * 11) + 8];
				_tmp334_ = vertices;
				_tmp334__length1 = vertices_length1;
				_tmp335_ = self->SLICES;
				_tmp336_ = i;
				_tmp334_[(((_tmp335_ + (_tmp336_ * 2)) + 2) * 11) + 9] = (GLfloat) 0.0f;
				_tmp337_ = _tmp334_[(((_tmp335_ + (_tmp336_ * 2)) + 2) * 11) + 9];
				_tmp338_ = vertices;
				_tmp338__length1 = vertices_length1;
				_tmp339_ = self->SLICES;
				_tmp340_ = i;
				_tmp338_[(((_tmp339_ + (_tmp340_ * 2)) + 2) * 11) + 10] = (GLfloat) 1.0f;
				_tmp341_ = _tmp338_[(((_tmp339_ + (_tmp340_ * 2)) + 2) * 11) + 10];
				_tmp342_ = elements;
				_tmp342__length1 = elements_length1;
				_tmp343_ = self->SLICES;
				_tmp344_ = i;
				_tmp345_ = self->SLICES;
				_tmp346_ = i;
				_tmp342_[(_tmp343_ + (_tmp344_ * 2)) * 3] = (GLushort) ((((GLushort) _tmp345_) + (_tmp346_ * 2)) + 1);
				_tmp347_ = _tmp342_[(_tmp343_ + (_tmp344_ * 2)) * 3];
				_tmp348_ = elements;
				_tmp348__length1 = elements_length1;
				_tmp349_ = self->SLICES;
				_tmp350_ = i;
				_tmp351_ = self->SLICES;
				_tmp352_ = i;
				_tmp348_[((_tmp349_ + (_tmp350_ * 2)) * 3) + 1] = (GLushort) ((((GLushort) _tmp351_) + (_tmp352_ * 2)) + 4);
				_tmp353_ = _tmp348_[((_tmp349_ + (_tmp350_ * 2)) * 3) + 1];
				_tmp354_ = elements;
				_tmp354__length1 = elements_length1;
				_tmp355_ = self->SLICES;
				_tmp356_ = i;
				_tmp357_ = self->SLICES;
				_tmp358_ = i;
				_tmp354_[((_tmp355_ + (_tmp356_ * 2)) * 3) + 2] = (GLushort) ((((GLushort) _tmp357_) + (_tmp358_ * 2)) + 2);
				_tmp359_ = _tmp354_[((_tmp355_ + (_tmp356_ * 2)) * 3) + 2];
				_tmp360_ = elements;
				_tmp360__length1 = elements_length1;
				_tmp361_ = self->SLICES;
				_tmp362_ = i;
				_tmp363_ = self->SLICES;
				_tmp364_ = i;
				_tmp360_[((_tmp361_ + (_tmp362_ * 2)) * 3) + 3] = (GLushort) ((((GLushort) _tmp363_) + (_tmp364_ * 2)) + 4);
				_tmp365_ = _tmp360_[((_tmp361_ + (_tmp362_ * 2)) * 3) + 3];
				_tmp366_ = elements;
				_tmp366__length1 = elements_length1;
				_tmp367_ = self->SLICES;
				_tmp368_ = i;
				_tmp369_ = self->SLICES;
				_tmp370_ = i;
				_tmp366_[((_tmp367_ + (_tmp368_ * 2)) * 3) + 4] = (GLushort) ((((GLushort) _tmp369_) + (_tmp370_ * 2)) + 1);
				_tmp371_ = _tmp366_[((_tmp367_ + (_tmp368_ * 2)) * 3) + 4];
				_tmp372_ = elements;
				_tmp372__length1 = elements_length1;
				_tmp373_ = self->SLICES;
				_tmp374_ = i;
				_tmp375_ = self->SLICES;
				_tmp376_ = i;
				_tmp372_[((_tmp373_ + (_tmp374_ * 2)) * 3) + 5] = (GLushort) ((((GLushort) _tmp375_) + (_tmp376_ * 2)) + 3);
				_tmp377_ = _tmp372_[((_tmp373_ + (_tmp374_ * 2)) * 3) + 5];
			}
		}
	}
	_tmp378_ = elements;
	_tmp378__length1 = elements_length1;
	_tmp379_ = self->SLICES;
	_tmp380_ = self->SLICES;
	_tmp378_[(((3 * _tmp379_) - 2) * 3) + 1] = (GLushort) (((GLushort) _tmp380_) + 2);
	_tmp381_ = _tmp378_[(((3 * _tmp379_) - 2) * 3) + 1];
	_tmp382_ = elements;
	_tmp382__length1 = elements_length1;
	_tmp383_ = self->SLICES;
	_tmp384_ = self->SLICES;
	_tmp382_[(((3 * _tmp383_) - 2) * 3) + 3] = (GLushort) (((GLushort) _tmp384_) + 2);
	_tmp385_ = _tmp382_[(((3 * _tmp383_) - 2) * 3) + 3];
	_tmp386_ = elements;
	_tmp386__length1 = elements_length1;
	_tmp387_ = self->SLICES;
	_tmp388_ = self->SLICES;
	_tmp386_[(((3 * _tmp387_) - 2) * 3) + 5] = (GLushort) (((GLushort) _tmp388_) + 1);
	_tmp389_ = _tmp386_[(((3 * _tmp387_) - 2) * 3) + 5];
	_tmp390_ = vertices;
	_tmp390__length1 = vertices_length1;
	_tmp391_ = (_tmp390_ != NULL) ? _vala_array_dup3 (_tmp390_, _tmp390__length1) : ((gpointer) _tmp390_);
	_tmp391__length1 = _tmp390__length1;
	self->priv->_vercache = (g_free (self->priv->_vercache), NULL);
	self->priv->_vercache = _tmp391_;
	self->priv->_vercache_length1 = _tmp391__length1;
	self->priv->__vercache_size_ = self->priv->_vercache_length1;
	_tmp392_ = self->priv->_ebo;
	glBindBuffer (GL_ELEMENT_ARRAY_BUFFER, _tmp392_);
	_tmp393_ = self->SLICES;
	_tmp394_ = elements;
	_tmp394__length1 = elements_length1;
	glBufferData (GL_ELEMENT_ARRAY_BUFFER, (GLsizei) (((3 * 4) * _tmp393_) * sizeof (GLushort)), _tmp394_, GL_STATIC_DRAW);
	_tmp395_ = self->priv->_vbo;
	glBindBuffer (GL_ARRAY_BUFFER, _tmp395_);
	_tmp396_ = self->SLICES;
	_tmp397_ = vertices;
	_tmp397__length1 = vertices_length1;
	glBufferData (GL_ARRAY_BUFFER, (GLsizei) ((14 * (2 + (_tmp396_ * 4))) * sizeof (GLfloat)), _tmp397_, GL_STATIC_DRAW);
	self->priv->_updated = FALSE;
	vertices = (g_free (vertices), NULL);
	elements = (g_free (elements), NULL);
}


soymaterialsMaterial* soy_bodies_cylinder_get_material (soybodiesCylinder* self) {
	soymaterialsMaterial* result;
	soymaterialsMaterial* _tmp0_;
	soymaterialsMaterial* _tmp1_;
	soymaterialsMaterial* _tmp2_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_material;
	_tmp1_ = soy_default_material;
	if (_tmp0_ == _tmp1_) {
		result = NULL;
		return result;
	}
	_tmp2_ = self->priv->_material;
	result = _tmp2_;
	return result;
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


void soy_bodies_cylinder_set_material (soybodiesCylinder* self, soymaterialsMaterial* value) {
	soymaterialsMaterial* _tmp0_;
	g_return_if_fail (self != NULL);
	g_mutex_lock (&((soybodiesBody*) self)->mutex);
	_tmp0_ = value;
	if (_tmp0_ == NULL) {
		soymaterialsMaterial* _tmp1_;
		soymaterialsMaterial* _tmp3_;
		soymaterialsMaterial* _tmp4_;
		_tmp1_ = soy_default_material;
		if (_tmp1_ == NULL) {
			soymaterialsMaterial* _tmp2_;
			_tmp2_ = soy_materials_material_new ();
			_g_object_unref0 (soy_default_material);
			soy_default_material = _tmp2_;
		}
		_tmp3_ = soy_default_material;
		_tmp4_ = _g_object_ref0 (_tmp3_);
		_g_object_unref0 (self->priv->_material);
		self->priv->_material = _tmp4_;
	} else {
		soymaterialsMaterial* _tmp5_;
		soymaterialsMaterial* _tmp6_;
		_tmp5_ = value;
		_tmp6_ = _g_object_ref0 (_tmp5_);
		_g_object_unref0 (self->priv->_material);
		self->priv->_material = _tmp6_;
	}
	g_mutex_unlock (&((soybodiesBody*) self)->mutex);
	g_object_notify ((GObject *) self, "material");
}


gfloat soy_bodies_cylinder_get_radius (soybodiesCylinder* self) {
	gfloat result;
	GLfloat _tmp0_;
	g_return_val_if_fail (self != NULL, 0.0F);
	_tmp0_ = self->priv->_radius;
	result = (gfloat) _tmp0_;
	return result;
}


void soy_bodies_cylinder_set_radius (soybodiesCylinder* self, gfloat value) {
	soyscenesScene* _tmp0_;
	gfloat _tmp1_;
	struct dxGeom* _tmp2_;
	gfloat _tmp3_;
	GLfloat _tmp4_;
	soyscenesScene* _tmp5_;
	gfloat _tmp6_;
	gfloat _tmp7_;
	gfloat _tmp8_;
	gdouble _tmp9_ = 0.0;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((soybodiesBody*) self)->scene;
	if (_tmp0_ != NULL) {
		g_rw_lock_writer_lock (&soy_scenes__stepLock);
	}
	_tmp1_ = value;
	self->priv->_radius = (GLfloat) _tmp1_;
	_tmp2_ = ((soybodiesBody*) self)->geom;
	_tmp3_ = value;
	_tmp4_ = self->priv->_length;
	dGeomCylinderSetParams ((struct dxGeom*) _tmp2_, (dReal) _tmp3_, (dReal) _tmp4_);
	_tmp5_ = ((soybodiesBody*) self)->scene;
	if (_tmp5_ != NULL) {
		g_rw_lock_writer_unlock (&soy_scenes__stepLock);
	}
	_tmp6_ = soy_bodies_body_get_density ((soybodiesBody*) self);
	_tmp7_ = _tmp6_;
	soy_bodies_body_set_mass ((soybodiesBody*) self, _tmp7_);
	_tmp8_ = value;
	_tmp9_ = ceil ((gdouble) (50 * _tmp8_));
	self->SLICES = (gint) _tmp9_;
	self->priv->_updated = TRUE;
	g_object_notify ((GObject *) self, "radius");
}


gfloat soy_bodies_cylinder_get_length (soybodiesCylinder* self) {
	gfloat result;
	GLfloat _tmp0_;
	g_return_val_if_fail (self != NULL, 0.0F);
	_tmp0_ = self->priv->_length;
	result = (gfloat) _tmp0_;
	return result;
}


void soy_bodies_cylinder_set_length (soybodiesCylinder* self, gfloat value) {
	soyscenesScene* _tmp0_;
	gfloat _tmp1_;
	struct dxGeom* _tmp2_;
	GLfloat _tmp3_;
	gfloat _tmp4_;
	soyscenesScene* _tmp5_;
	gfloat _tmp6_;
	gfloat _tmp7_;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((soybodiesBody*) self)->scene;
	if (_tmp0_ != NULL) {
		g_rw_lock_writer_lock (&soy_scenes__stepLock);
	}
	_tmp1_ = value;
	self->priv->_length = (GLfloat) _tmp1_;
	_tmp2_ = ((soybodiesBody*) self)->geom;
	_tmp3_ = self->priv->_radius;
	_tmp4_ = value;
	dGeomCylinderSetParams ((struct dxGeom*) _tmp2_, (dReal) _tmp3_, (dReal) _tmp4_);
	_tmp5_ = ((soybodiesBody*) self)->scene;
	if (_tmp5_ != NULL) {
		g_rw_lock_writer_unlock (&soy_scenes__stepLock);
	}
	_tmp6_ = soy_bodies_body_get_density ((soybodiesBody*) self);
	_tmp7_ = _tmp6_;
	soy_bodies_body_set_mass ((soybodiesBody*) self, _tmp7_);
	self->priv->_updated = TRUE;
	g_object_notify ((GObject *) self, "length");
}


static gfloat soy_bodies_cylinder_real_get_col_radius (soybodiesBody* base) {
	gfloat result;
	soybodiesCylinder* self;
	GLfloat _tmp0_;
	GLfloat _tmp1_;
	GLfloat _tmp2_;
	GLfloat _tmp3_;
	gfloat _tmp4_ = 0.0F;
	self = (soybodiesCylinder*) base;
	_tmp0_ = self->priv->_length;
	_tmp1_ = self->priv->_length;
	_tmp2_ = self->priv->_radius;
	_tmp3_ = self->priv->_radius;
	_tmp4_ = sqrtf ((gfloat) (((_tmp0_ * _tmp1_) / 4) + (_tmp2_ * _tmp3_)));
	result = _tmp4_;
	return result;
}


static void soy_bodies_cylinder_class_init (soybodiesCylinderClass * klass) {
	soy_bodies_cylinder_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (soybodiesCylinderPrivate));
	SOY_BODIES_BODY_CLASS (klass)->create_geom = soy_bodies_cylinder_real_create_geom;
	SOY_BODIES_BODY_CLASS (klass)->set_mass = soy_bodies_cylinder_real_set_mass;
	SOY_BODIES_BODY_CLASS (klass)->volume = soy_bodies_cylinder_real_volume;
	SOY_BODIES_BODY_CLASS (klass)->render = soy_bodies_cylinder_real_render;
	SOY_BODIES_BODY_CLASS (klass)->get_col_radius = soy_bodies_cylinder_real_get_col_radius;
	G_OBJECT_CLASS (klass)->get_property = _vala_soy_bodies_cylinder_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_soy_bodies_cylinder_set_property;
	G_OBJECT_CLASS (klass)->finalize = soy_bodies_cylinder_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), SOY_BODIES_CYLINDER_MATERIAL, g_param_spec_object ("material", "material", "material", SOY_MATERIALS_TYPE_MATERIAL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), SOY_BODIES_CYLINDER_RADIUS, g_param_spec_float ("radius", "radius", "radius", -G_MAXFLOAT, G_MAXFLOAT, 0.0F, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), SOY_BODIES_CYLINDER_LENGTH, g_param_spec_float ("length", "length", "length", -G_MAXFLOAT, G_MAXFLOAT, 0.0F, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), SOY_BODIES_CYLINDER_COL_RADIUS, g_param_spec_float ("col-radius", "col-radius", "col-radius", -G_MAXFLOAT, G_MAXFLOAT, 0.0F, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
}


static void soy_bodies_cylinder_instance_init (soybodiesCylinder * self) {
	self->priv = SOY_BODIES_CYLINDER_GET_PRIVATE (self);
	self->SLICES = 50;
	self->LIMIT = 240;
}


static void soy_bodies_cylinder_finalize (GObject* obj) {
	soybodiesCylinder * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SOY_BODIES_TYPE_CYLINDER, soybodiesCylinder);
	self->priv->_vercache = (g_free (self->priv->_vercache), NULL);
	_g_object_unref0 (self->priv->_material);
	G_OBJECT_CLASS (soy_bodies_cylinder_parent_class)->finalize (obj);
}


GType soy_bodies_cylinder_get_type (void) {
	static volatile gsize soy_bodies_cylinder_type_id__volatile = 0;
	if (g_once_init_enter (&soy_bodies_cylinder_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (soybodiesCylinderClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) soy_bodies_cylinder_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (soybodiesCylinder), 0, (GInstanceInitFunc) soy_bodies_cylinder_instance_init, NULL };
		GType soy_bodies_cylinder_type_id;
		soy_bodies_cylinder_type_id = g_type_register_static (SOY_BODIES_TYPE_BODY, "soybodiesCylinder", &g_define_type_info, 0);
		g_once_init_leave (&soy_bodies_cylinder_type_id__volatile, soy_bodies_cylinder_type_id);
	}
	return soy_bodies_cylinder_type_id__volatile;
}


static void _vala_soy_bodies_cylinder_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	soybodiesCylinder * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SOY_BODIES_TYPE_CYLINDER, soybodiesCylinder);
	switch (property_id) {
		case SOY_BODIES_CYLINDER_MATERIAL:
		g_value_set_object (value, soy_bodies_cylinder_get_material (self));
		break;
		case SOY_BODIES_CYLINDER_RADIUS:
		g_value_set_float (value, soy_bodies_cylinder_get_radius (self));
		break;
		case SOY_BODIES_CYLINDER_LENGTH:
		g_value_set_float (value, soy_bodies_cylinder_get_length (self));
		break;
		case SOY_BODIES_CYLINDER_COL_RADIUS:
		g_value_set_float (value, soy_bodies_body_get_col_radius ((soybodiesBody*) self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_soy_bodies_cylinder_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	soybodiesCylinder * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SOY_BODIES_TYPE_CYLINDER, soybodiesCylinder);
	switch (property_id) {
		case SOY_BODIES_CYLINDER_MATERIAL:
		soy_bodies_cylinder_set_material (self, g_value_get_object (value));
		break;
		case SOY_BODIES_CYLINDER_RADIUS:
		soy_bodies_cylinder_set_radius (self, g_value_get_float (value));
		break;
		case SOY_BODIES_CYLINDER_LENGTH:
		soy_bodies_cylinder_set_length (self, g_value_get_float (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}



