/* Plane2D.c generated by valac 0.20.1, the Vala compiler
 * generated from Plane2D.gs, do not modify */

/*
 *  libsoy - soy.joints.Plane2D
 *  Copyright (C) 2006,2007,2008,2009,2010,2011,2012,2013 Copyleft Games Group
 *
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published
 *  by the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program; if not, see http://www.gnu.org/licenses
 *
 */

#include <glib.h>
#include <glib-object.h>
#include <soy-1/ode.h>


#define SOY_JOINTS_TYPE_JOINT (soy_joints_joint_get_type ())
#define SOY_JOINTS_JOINT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_JOINTS_TYPE_JOINT, soyjointsJoint))
#define SOY_JOINTS_JOINT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_JOINTS_TYPE_JOINT, soyjointsJointClass))
#define SOY_JOINTS_IS_JOINT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_JOINTS_TYPE_JOINT))
#define SOY_JOINTS_IS_JOINT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_JOINTS_TYPE_JOINT))
#define SOY_JOINTS_JOINT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_JOINTS_TYPE_JOINT, soyjointsJointClass))

typedef struct _soyjointsJoint soyjointsJoint;
typedef struct _soyjointsJointClass soyjointsJointClass;
typedef struct _soyjointsJointPrivate soyjointsJointPrivate;

#define SOY_ATOMS_TYPE_POSITION (soy_atoms_position_get_type ())
#define SOY_ATOMS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPosition))
#define SOY_ATOMS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))
#define SOY_ATOMS_IS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_IS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_POSITION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))

typedef struct _soyatomsPosition soyatomsPosition;
typedef struct _soyatomsPositionClass soyatomsPositionClass;

#define SOY_ATOMS_TYPE_AXIS (soy_atoms_axis_get_type ())
#define SOY_ATOMS_AXIS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_AXIS, soyatomsAxis))
#define SOY_ATOMS_AXIS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_AXIS, soyatomsAxisClass))
#define SOY_ATOMS_IS_AXIS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_AXIS))
#define SOY_ATOMS_IS_AXIS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_AXIS))
#define SOY_ATOMS_AXIS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_AXIS, soyatomsAxisClass))

typedef struct _soyatomsAxis soyatomsAxis;
typedef struct _soyatomsAxisClass soyatomsAxisClass;

#define SOY_BODIES_TYPE_BODY (soy_bodies_body_get_type ())
#define SOY_BODIES_BODY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_BODY, soybodiesBody))
#define SOY_BODIES_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))
#define SOY_BODIES_IS_BODY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_IS_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_BODY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))

typedef struct _soybodiesBody soybodiesBody;
typedef struct _soybodiesBodyClass soybodiesBodyClass;

#define SOY_JOINTS_TYPE_PLANE2_D (soy_joints_plane2_d_get_type ())
#define SOY_JOINTS_PLANE2_D(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_JOINTS_TYPE_PLANE2_D, soyjointsPlane2D))
#define SOY_JOINTS_PLANE2_D_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_JOINTS_TYPE_PLANE2_D, soyjointsPlane2DClass))
#define SOY_JOINTS_IS_PLANE2_D(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_JOINTS_TYPE_PLANE2_D))
#define SOY_JOINTS_IS_PLANE2_D_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_JOINTS_TYPE_PLANE2_D))
#define SOY_JOINTS_PLANE2_D_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_JOINTS_TYPE_PLANE2_D, soyjointsPlane2DClass))

typedef struct _soyjointsPlane2D soyjointsPlane2D;
typedef struct _soyjointsPlane2DClass soyjointsPlane2DClass;
typedef struct _soyjointsPlane2DPrivate soyjointsPlane2DPrivate;

#define SOY_MATERIALS_TYPE_MATERIAL (soy_materials_material_get_type ())
#define SOY_MATERIALS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterial))
#define SOY_MATERIALS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))
#define SOY_MATERIALS_IS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_IS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_MATERIAL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))

typedef struct _soymaterialsMaterial soymaterialsMaterial;
typedef struct _soymaterialsMaterialClass soymaterialsMaterialClass;
#define _dJointDestroy0(var) ((var == NULL) ? NULL : (var = (dJointDestroy (var), NULL)))

struct _soyjointsJoint {
	GObject parent_instance;
	soyjointsJointPrivate * priv;
	struct dxJoint* joint;
	soybodiesBody* bodyA;
	soybodiesBody* bodyB;
	GMutex mutex;
};

struct _soyjointsJointClass {
	GObjectClass parent_class;
	void (*create) (soyjointsJoint* self);
	void (*setup) (soyjointsJoint* self, soyatomsPosition* anchor, soyatomsAxis* axis1, soyatomsAxis* axis2);
	void (*gen_matrices) (soyjointsJoint* self);
	void (*render) (soyjointsJoint* self);
	void (*mult_model_matrix) (soyjointsJoint* self);
	void (*mult_model_matrix_A) (soyjointsJoint* self);
	void (*mult_model_matrix_B) (soyjointsJoint* self);
};

struct _soyjointsPlane2D {
	soyjointsJoint parent_instance;
	soyjointsPlane2DPrivate * priv;
};

struct _soyjointsPlane2DClass {
	soyjointsJointClass parent_class;
};


static gpointer soy_joints_plane2_d_parent_class = NULL;
extern struct dxWorld* soy_scenes__world;

GType soy_joints_joint_get_type (void) G_GNUC_CONST;
GType soy_atoms_position_get_type (void) G_GNUC_CONST;
GType soy_atoms_axis_get_type (void) G_GNUC_CONST;
GType soy_bodies_body_get_type (void) G_GNUC_CONST;
GType soy_joints_plane2_d_get_type (void) G_GNUC_CONST;
enum  {
	SOY_JOINTS_PLANE2_D_DUMMY_PROPERTY
};
GType soy_materials_material_get_type (void) G_GNUC_CONST;
soyjointsPlane2D* soy_joints_plane2_d_new (soybodiesBody* bodyA, soybodiesBody* bodyB, soymaterialsMaterial* material);
soyjointsPlane2D* soy_joints_plane2_d_construct (GType object_type, soybodiesBody* bodyA, soybodiesBody* bodyB, soymaterialsMaterial* material);
soyjointsJoint* soy_joints_joint_new (soybodiesBody* bodyA, soybodiesBody* bodyB, soyatomsPosition* anchor, soyatomsAxis* axis1, soyatomsAxis* axis2, soymaterialsMaterial* material);
soyjointsJoint* soy_joints_joint_construct (GType object_type, soybodiesBody* bodyA, soybodiesBody* bodyB, soyatomsPosition* anchor, soyatomsAxis* axis1, soyatomsAxis* axis2, soymaterialsMaterial* material);
static void soy_joints_plane2_d_real_create (soyjointsJoint* base);
void soy_joints_plane2_d_setXParam (soyjointsPlane2D* self, gint param, dReal val);
void soy_joints_plane2_d_setYParam (soyjointsPlane2D* self, gint param, dReal val);
void soy_joints_plane2_d_setAngleParam (soyjointsPlane2D* self, gint param, dReal val);


soyjointsPlane2D* soy_joints_plane2_d_construct (GType object_type, soybodiesBody* bodyA, soybodiesBody* bodyB, soymaterialsMaterial* material) {
	soyjointsPlane2D * self = NULL;
	soybodiesBody* _tmp0_;
	soybodiesBody* _tmp1_;
	soymaterialsMaterial* _tmp2_;
	g_return_val_if_fail (bodyA != NULL, NULL);
	_tmp0_ = bodyA;
	_tmp1_ = bodyB;
	_tmp2_ = material;
	self = (soyjointsPlane2D*) soy_joints_joint_construct (object_type, _tmp0_, _tmp1_, NULL, NULL, NULL, _tmp2_);
	return self;
}


soyjointsPlane2D* soy_joints_plane2_d_new (soybodiesBody* bodyA, soybodiesBody* bodyB, soymaterialsMaterial* material) {
	return soy_joints_plane2_d_construct (SOY_JOINTS_TYPE_PLANE2_D, bodyA, bodyB, material);
}


static void soy_joints_plane2_d_real_create (soyjointsJoint* base) {
	soyjointsPlane2D * self;
	struct dxWorld* _tmp0_;
	struct dxJoint* _tmp1_;
	self = (soyjointsPlane2D*) base;
	_tmp0_ = soy_scenes__world;
	_tmp1_ = dJointCreatePlane2D (_tmp0_, NULL);
	_dJointDestroy0 (((soyjointsJoint*) self)->joint);
	((soyjointsJoint*) self)->joint = _tmp1_;
}


void soy_joints_plane2_d_setXParam (soyjointsPlane2D* self, gint param, dReal val) {
	struct dxJoint* _tmp0_;
	gint _tmp1_;
	dReal _tmp2_;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((soyjointsJoint*) self)->joint;
	_tmp1_ = param;
	_tmp2_ = val;
	dJointSetPlane2DXParam ((struct dxJoint*) _tmp0_, _tmp1_, _tmp2_);
}


void soy_joints_plane2_d_setYParam (soyjointsPlane2D* self, gint param, dReal val) {
	struct dxJoint* _tmp0_;
	gint _tmp1_;
	dReal _tmp2_;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((soyjointsJoint*) self)->joint;
	_tmp1_ = param;
	_tmp2_ = val;
	dJointSetPlane2DYParam ((struct dxJoint*) _tmp0_, _tmp1_, _tmp2_);
}


void soy_joints_plane2_d_setAngleParam (soyjointsPlane2D* self, gint param, dReal val) {
	struct dxJoint* _tmp0_;
	gint _tmp1_;
	dReal _tmp2_;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((soyjointsJoint*) self)->joint;
	_tmp1_ = param;
	_tmp2_ = val;
	dJointSetPlane2DAngleParam ((struct dxJoint*) _tmp0_, _tmp1_, _tmp2_);
}


static void soy_joints_plane2_d_class_init (soyjointsPlane2DClass * klass) {
	soy_joints_plane2_d_parent_class = g_type_class_peek_parent (klass);
	SOY_JOINTS_JOINT_CLASS (klass)->create = soy_joints_plane2_d_real_create;
}


static void soy_joints_plane2_d_instance_init (soyjointsPlane2D * self) {
}


GType soy_joints_plane2_d_get_type (void) {
	static volatile gsize soy_joints_plane2_d_type_id__volatile = 0;
	if (g_once_init_enter (&soy_joints_plane2_d_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (soyjointsPlane2DClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) soy_joints_plane2_d_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (soyjointsPlane2D), 0, (GInstanceInitFunc) soy_joints_plane2_d_instance_init, NULL };
		GType soy_joints_plane2_d_type_id;
		soy_joints_plane2_d_type_id = g_type_register_static (SOY_JOINTS_TYPE_JOINT, "soyjointsPlane2D", &g_define_type_info, 0);
		g_once_init_leave (&soy_joints_plane2_d_type_id__volatile, soy_joints_plane2_d_type_id);
	}
	return soy_joints_plane2_d_type_id__volatile;
}



