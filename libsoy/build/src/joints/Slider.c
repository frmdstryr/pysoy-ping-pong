/* Slider.c generated by valac 0.20.1, the Vala compiler
 * generated from Slider.gs, do not modify */

/*
 *  libsoy - soy.joints.Slider
 *  Copyright (C) 2006,2007,2008,2009,2010,2011,2012,2013 Copyleft Games Group
 *
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published
 *  by the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program; if not, see http://www.gnu.org/licenses
 *
 */

#include <glib.h>
#include <glib-object.h>
#include <soy-1/ode.h>
#include <GLES/gl.h>
#include <GLES/glext.h>
#include <float.h>
#include <math.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>


#define SOY_JOINTS_TYPE_JOINT (soy_joints_joint_get_type ())
#define SOY_JOINTS_JOINT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_JOINTS_TYPE_JOINT, soyjointsJoint))
#define SOY_JOINTS_JOINT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_JOINTS_TYPE_JOINT, soyjointsJointClass))
#define SOY_JOINTS_IS_JOINT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_JOINTS_TYPE_JOINT))
#define SOY_JOINTS_IS_JOINT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_JOINTS_TYPE_JOINT))
#define SOY_JOINTS_JOINT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_JOINTS_TYPE_JOINT, soyjointsJointClass))

typedef struct _soyjointsJoint soyjointsJoint;
typedef struct _soyjointsJointClass soyjointsJointClass;
typedef struct _soyjointsJointPrivate soyjointsJointPrivate;

#define SOY_ATOMS_TYPE_POSITION (soy_atoms_position_get_type ())
#define SOY_ATOMS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPosition))
#define SOY_ATOMS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))
#define SOY_ATOMS_IS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_IS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_POSITION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))

typedef struct _soyatomsPosition soyatomsPosition;
typedef struct _soyatomsPositionClass soyatomsPositionClass;

#define SOY_ATOMS_TYPE_AXIS (soy_atoms_axis_get_type ())
#define SOY_ATOMS_AXIS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_AXIS, soyatomsAxis))
#define SOY_ATOMS_AXIS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_AXIS, soyatomsAxisClass))
#define SOY_ATOMS_IS_AXIS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_AXIS))
#define SOY_ATOMS_IS_AXIS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_AXIS))
#define SOY_ATOMS_AXIS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_AXIS, soyatomsAxisClass))

typedef struct _soyatomsAxis soyatomsAxis;
typedef struct _soyatomsAxisClass soyatomsAxisClass;

#define SOY_BODIES_TYPE_BODY (soy_bodies_body_get_type ())
#define SOY_BODIES_BODY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_BODY, soybodiesBody))
#define SOY_BODIES_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))
#define SOY_BODIES_IS_BODY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_IS_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_BODY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))

typedef struct _soybodiesBody soybodiesBody;
typedef struct _soybodiesBodyClass soybodiesBodyClass;

#define SOY_JOINTS_TYPE_SLIDER (soy_joints_slider_get_type ())
#define SOY_JOINTS_SLIDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_JOINTS_TYPE_SLIDER, soyjointsSlider))
#define SOY_JOINTS_SLIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_JOINTS_TYPE_SLIDER, soyjointsSliderClass))
#define SOY_JOINTS_IS_SLIDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_JOINTS_TYPE_SLIDER))
#define SOY_JOINTS_IS_SLIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_JOINTS_TYPE_SLIDER))
#define SOY_JOINTS_SLIDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_JOINTS_TYPE_SLIDER, soyjointsSliderClass))

typedef struct _soyjointsSlider soyjointsSlider;
typedef struct _soyjointsSliderClass soyjointsSliderClass;
typedef struct _soyjointsSliderPrivate soyjointsSliderPrivate;

#define SOY_MATERIALS_TYPE_MATERIAL (soy_materials_material_get_type ())
#define SOY_MATERIALS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterial))
#define SOY_MATERIALS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))
#define SOY_MATERIALS_IS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_IS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_MATERIAL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))

typedef struct _soymaterialsMaterial soymaterialsMaterial;
typedef struct _soymaterialsMaterialClass soymaterialsMaterialClass;
#define _dJointDestroy0(var) ((var == NULL) ? NULL : (var = (dJointDestroy (var), NULL)))

#define SOY_ATOMS_TYPE_VECTOR (soy_atoms_vector_get_type ())
#define SOY_ATOMS_VECTOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_VECTOR, soyatomsVector))
#define SOY_ATOMS_VECTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_VECTOR, soyatomsVectorClass))
#define SOY_ATOMS_IS_VECTOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_VECTOR))
#define SOY_ATOMS_IS_VECTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_VECTOR))
#define SOY_ATOMS_VECTOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_VECTOR, soyatomsVectorClass))

typedef struct _soyatomsVector soyatomsVector;
typedef struct _soyatomsVectorClass soyatomsVectorClass;
typedef struct _soybodiesBodyPrivate soybodiesBodyPrivate;

#define SOY_BODIES_TYPE_CAMERA (soy_bodies_camera_get_type ())
#define SOY_BODIES_CAMERA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_CAMERA, soybodiesCamera))
#define SOY_BODIES_CAMERA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_CAMERA, soybodiesCameraClass))
#define SOY_BODIES_IS_CAMERA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_CAMERA))
#define SOY_BODIES_IS_CAMERA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_CAMERA))
#define SOY_BODIES_CAMERA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_CAMERA, soybodiesCameraClass))

typedef struct _soybodiesCamera soybodiesCamera;
typedef struct _soybodiesCameraClass soybodiesCameraClass;

#define SOY_SCENES_TYPE_SCENE (soy_scenes_scene_get_type ())
#define SOY_SCENES_SCENE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_SCENES_TYPE_SCENE, soyscenesScene))
#define SOY_SCENES_SCENE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_SCENES_TYPE_SCENE, soyscenesSceneClass))
#define SOY_SCENES_IS_SCENE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_SCENES_TYPE_SCENE))
#define SOY_SCENES_IS_SCENE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_SCENES_TYPE_SCENE))
#define SOY_SCENES_SCENE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_SCENES_TYPE_SCENE, soyscenesSceneClass))

typedef struct _soyscenesScene soyscenesScene;
typedef struct _soyscenesSceneClass soyscenesSceneClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _dvector3_free0(var) ((var == NULL) ? NULL : (var = (dvector3_free (var), NULL)))

struct _soyjointsJoint {
	GObject parent_instance;
	soyjointsJointPrivate * priv;
	struct dxJoint* joint;
	soybodiesBody* bodyA;
	soybodiesBody* bodyB;
	GMutex mutex;
};

struct _soyjointsJointClass {
	GObjectClass parent_class;
	void (*create) (soyjointsJoint* self);
	void (*setup) (soyjointsJoint* self, soyatomsPosition* anchor, soyatomsAxis* axis1, soyatomsAxis* axis2);
	void (*gen_matrices) (soyjointsJoint* self);
	void (*render) (soyjointsJoint* self);
	void (*mult_model_matrix) (soyjointsJoint* self);
	void (*mult_model_matrix_A) (soyjointsJoint* self);
	void (*mult_model_matrix_B) (soyjointsJoint* self);
};

struct _soyjointsSlider {
	soyjointsJoint parent_instance;
	soyjointsSliderPrivate * priv;
};

struct _soyjointsSliderClass {
	soyjointsJointClass parent_class;
};

struct _soyjointsSliderPrivate {
	GLuint _ebo;
	GLuint _vbo;
	gboolean _updated;
	GLfloat* _jointRotTheta;
	gint _jointRotTheta_length1;
	gint __jointRotTheta_size_;
	GLfloat* _jointRotPhi;
	gint _jointRotPhi_length1;
	gint __jointRotPhi_size_;
	GLfloat* _inverseRotation;
	gint _inverseRotation_length1;
	gint __inverseRotation_size_;
	soyatomsAxis* _axis_obj;
};

struct _soybodiesBody {
	GObject parent_instance;
	soybodiesBodyPrivate * priv;
	struct dxBody* body;
	GLfloat* fogcoords;
	gint fogcoords_length1;
	struct dxGeom* geom;
	gchar* key;
	GMutex mutex;
	GLfloat* tslvs;
	gint tslvs_length1;
	soyscenesScene* scene;
	GeeHashMap* tags_;
};

struct _soybodiesBodyClass {
	GObjectClass parent_class;
	void (*create_geom) (soybodiesBody* self, GObject* geom_param, gfloat geom_scalar);
	void (*set_mass) (soybodiesBody* self, gfloat density);
	void (*add_extra) (soybodiesBody* self);
	void (*remove_extra) (soybodiesBody* self);
	gfloat (*pointDepth) (soybodiesBody* self, gfloat x, gfloat y, gfloat z);
	gfloat (*volume) (soybodiesBody* self);
	gint (*finite) (soybodiesBody* self);
	void (*mult_model_matrix) (soybodiesBody* self);
	void (*render) (soybodiesBody* self, gboolean alpha_stage, soybodiesCamera* camera, gint level);
	gfloat (*get_col_radius) (soybodiesBody* self);
};


static gpointer soy_joints_slider_parent_class = NULL;
extern struct dxWorld* soy_scenes__world;
extern GRWLock soy_scenes__stepLock;

GType soy_joints_joint_get_type (void) G_GNUC_CONST;
GType soy_atoms_position_get_type (void) G_GNUC_CONST;
GType soy_atoms_axis_get_type (void) G_GNUC_CONST;
GType soy_bodies_body_get_type (void) G_GNUC_CONST;
GType soy_joints_slider_get_type (void) G_GNUC_CONST;
#define SOY_JOINTS_SLIDER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SOY_JOINTS_TYPE_SLIDER, soyjointsSliderPrivate))
enum  {
	SOY_JOINTS_SLIDER_DUMMY_PROPERTY,
	SOY_JOINTS_SLIDER_AXIS,
	SOY_JOINTS_SLIDER_LENGTH
};
GType soy_materials_material_get_type (void) G_GNUC_CONST;
soyjointsSlider* soy_joints_slider_new (soybodiesBody* bodyA, soybodiesBody* bodyB, soyatomsAxis* axis, soymaterialsMaterial* material);
soyjointsSlider* soy_joints_slider_construct (GType object_type, soybodiesBody* bodyA, soybodiesBody* bodyB, soyatomsAxis* axis, soymaterialsMaterial* material);
soyjointsJoint* soy_joints_joint_new (soybodiesBody* bodyA, soybodiesBody* bodyB, soyatomsPosition* anchor, soyatomsAxis* axis1, soyatomsAxis* axis2, soymaterialsMaterial* material);
soyjointsJoint* soy_joints_joint_construct (GType object_type, soybodiesBody* bodyA, soybodiesBody* bodyB, soyatomsPosition* anchor, soyatomsAxis* axis1, soyatomsAxis* axis2, soymaterialsMaterial* material);
static void soy_joints_slider_real_create (soyjointsJoint* base);
static void soy_joints_slider_real_setup (soyjointsJoint* base, soyatomsPosition* anchor, soyatomsAxis* axis1, soyatomsAxis* axis2);
gfloat soy_atoms_axis_get_x (soyatomsAxis* self);
gfloat soy_atoms_axis_get_y (soyatomsAxis* self);
gfloat soy_atoms_axis_get_z (soyatomsAxis* self);
static void soy_joints_slider_real_gen_matrices (soyjointsJoint* base);
GType soy_atoms_vector_get_type (void) G_GNUC_CONST;
soyatomsVector* soy_bodies_body_getRelPointPos (soybodiesBody* self, soybodiesBody* bodyB);
gfloat soy_atoms_vector_get_x (soyatomsVector* self);
gfloat soy_atoms_vector_get_y (soyatomsVector* self);
gfloat soy_atoms_vector_get_z (soyatomsVector* self);
GType soy_bodies_camera_get_type (void) G_GNUC_CONST;
GType soy_scenes_scene_get_type (void) G_GNUC_CONST;
static void soy_joints_slider_real_render (soyjointsJoint* base);
soymaterialsMaterial* soy_joints_joint_get_material (soyjointsJoint* self);
void soy_joints_joint_mult_model_matrix (soyjointsJoint* self);
static void _soy_joints_slider_update_slider (soyjointsSlider* self);
gboolean soy_materials_material_render (soymaterialsMaterial* self, gint step, GLvoid* tslvs, dxMatrix3* texmatrix);
void soy_joints_slider_addForce (soyjointsSlider* self, dReal force);
static void _soy_joints_slider_axis_set (soyjointsSlider* self, soyatomsAxis* value);
soyatomsAxis* soy_atoms_axis_new_normalize (soyatomsAxis* axis);
soyatomsAxis* soy_atoms_axis_construct_normalize (GType object_type, soyatomsAxis* axis);
static void _soy_joints_slider_axis_weak (soyjointsSlider* self, GObject* axis);
soyatomsAxis* soy_joints_slider_get_axis (soyjointsSlider* self);
static void __soy_joints_slider_axis_set_soy_atoms_axis_on_set (soyatomsAxis* _sender, soyatomsAxis* vector, gpointer self);
static void __soy_joints_slider_axis_weak_gweak_notify (gpointer self, GObject* object);
soyatomsAxis* soy_atoms_axis_new (gfloat x, gfloat y, gfloat z);
soyatomsAxis* soy_atoms_axis_construct (GType object_type, gfloat x, gfloat y, gfloat z);
void soy_joints_slider_set_axis (soyjointsSlider* self, soyatomsAxis* value);
gfloat soy_joints_slider_get_length (soyjointsSlider* self);
static void soy_joints_slider_finalize (GObject* obj);
static void _vala_soy_joints_slider_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_soy_joints_slider_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


soyjointsSlider* soy_joints_slider_construct (GType object_type, soybodiesBody* bodyA, soybodiesBody* bodyB, soyatomsAxis* axis, soymaterialsMaterial* material) {
	soyjointsSlider * self = NULL;
	soybodiesBody* _tmp0_;
	soybodiesBody* _tmp1_;
	soyatomsAxis* _tmp2_;
	soymaterialsMaterial* _tmp3_;
	g_return_val_if_fail (bodyA != NULL, NULL);
	g_return_val_if_fail (axis != NULL, NULL);
	_tmp0_ = bodyA;
	_tmp1_ = bodyB;
	_tmp2_ = axis;
	_tmp3_ = material;
	self = (soyjointsSlider*) soy_joints_joint_construct (object_type, _tmp0_, _tmp1_, NULL, _tmp2_, NULL, _tmp3_);
	self->priv->_updated = TRUE;
	return self;
}


soyjointsSlider* soy_joints_slider_new (soybodiesBody* bodyA, soybodiesBody* bodyB, soyatomsAxis* axis, soymaterialsMaterial* material) {
	return soy_joints_slider_construct (SOY_JOINTS_TYPE_SLIDER, bodyA, bodyB, axis, material);
}


static void soy_joints_slider_real_create (soyjointsJoint* base) {
	soyjointsSlider * self;
	struct dxWorld* _tmp0_;
	struct dxJoint* _tmp1_;
	self = (soyjointsSlider*) base;
	_tmp0_ = soy_scenes__world;
	_tmp1_ = dJointCreateSlider (_tmp0_, NULL);
	_dJointDestroy0 (((soyjointsJoint*) self)->joint);
	((soyjointsJoint*) self)->joint = _tmp1_;
}


static void soy_joints_slider_real_setup (soyjointsJoint* base, soyatomsPosition* anchor, soyatomsAxis* axis1, soyatomsAxis* axis2) {
	soyjointsSlider * self;
	struct dxJoint* _tmp0_;
	soyatomsAxis* _tmp1_;
	gfloat _tmp2_;
	gfloat _tmp3_;
	soyatomsAxis* _tmp4_;
	gfloat _tmp5_;
	gfloat _tmp6_;
	soyatomsAxis* _tmp7_;
	gfloat _tmp8_;
	gfloat _tmp9_;
	self = (soyjointsSlider*) base;
	_tmp0_ = ((soyjointsJoint*) self)->joint;
	_tmp1_ = axis1;
	_tmp2_ = soy_atoms_axis_get_x (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = axis1;
	_tmp5_ = soy_atoms_axis_get_y (_tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = axis1;
	_tmp8_ = soy_atoms_axis_get_z (_tmp7_);
	_tmp9_ = _tmp8_;
	dJointSetSliderAxis ((struct dxJoint*) _tmp0_, (dReal) _tmp3_, (dReal) _tmp6_, (dReal) _tmp9_);
}


static void soy_joints_slider_real_gen_matrices (soyjointsJoint* base) {
	soyjointsSlider * self;
	soybodiesBody* _tmp0_;
	soybodiesBody* _tmp1_;
	soyatomsVector* _tmp2_ = NULL;
	soyatomsVector* posBRel;
	gfloat _tmp3_;
	gfloat _tmp4_;
	gfloat _tmp5_;
	gfloat _tmp6_;
	gfloat _tmp7_;
	gfloat _tmp8_;
	gfloat _tmp9_;
	gfloat _tmp10_;
	gfloat _tmp11_;
	gfloat _tmp12_;
	gfloat _tmp13_;
	gfloat _tmp14_;
	gdouble _tmp15_ = 0.0;
	dReal radius;
	gfloat _tmp16_;
	gfloat _tmp17_;
	gdouble _tmp18_ = 0.0;
	dReal phi;
	gfloat _tmp19_;
	gfloat _tmp20_;
	gfloat _tmp21_;
	gfloat _tmp22_;
	gdouble _tmp23_ = 0.0;
	dReal theta;
	GLfloat* _tmp24_ = NULL;
	GLfloat* _tmp25_ = NULL;
	GLfloat* _tmp26_ = NULL;
	GLfloat* _tmp27_;
	gint _tmp27__length1;
	gdouble _tmp28_ = 0.0;
	GLfloat _tmp29_;
	GLfloat* _tmp30_;
	gint _tmp30__length1;
	gdouble _tmp31_ = 0.0;
	GLfloat _tmp32_;
	GLfloat* _tmp33_;
	gint _tmp33__length1;
	GLfloat _tmp34_;
	GLfloat* _tmp35_;
	gint _tmp35__length1;
	GLfloat _tmp36_;
	GLfloat* _tmp37_;
	gint _tmp37__length1;
	gdouble _tmp38_ = 0.0;
	GLfloat _tmp39_;
	GLfloat* _tmp40_;
	gint _tmp40__length1;
	gdouble _tmp41_ = 0.0;
	GLfloat _tmp42_;
	GLfloat* _tmp43_;
	gint _tmp43__length1;
	GLfloat _tmp44_;
	GLfloat* _tmp45_;
	gint _tmp45__length1;
	GLfloat _tmp46_;
	GLfloat* _tmp47_;
	gint _tmp47__length1;
	GLfloat _tmp48_;
	GLfloat* _tmp49_;
	gint _tmp49__length1;
	GLfloat _tmp50_;
	GLfloat* _tmp51_;
	gint _tmp51__length1;
	GLfloat _tmp52_;
	GLfloat* _tmp53_;
	gint _tmp53__length1;
	GLfloat _tmp54_;
	GLfloat* _tmp55_;
	gint _tmp55__length1;
	GLfloat _tmp56_;
	GLfloat* _tmp57_;
	gint _tmp57__length1;
	GLfloat _tmp58_;
	GLfloat* _tmp59_;
	gint _tmp59__length1;
	GLfloat _tmp60_;
	GLfloat* _tmp61_;
	gint _tmp61__length1;
	GLfloat _tmp62_;
	GLfloat* _tmp63_;
	gint _tmp63__length1;
	gdouble _tmp64_ = 0.0;
	GLfloat _tmp65_;
	GLfloat* _tmp66_;
	gint _tmp66__length1;
	GLfloat _tmp67_;
	GLfloat* _tmp68_;
	gint _tmp68__length1;
	gdouble _tmp69_ = 0.0;
	GLfloat _tmp70_;
	GLfloat* _tmp71_;
	gint _tmp71__length1;
	GLfloat _tmp72_;
	GLfloat* _tmp73_;
	gint _tmp73__length1;
	GLfloat _tmp74_;
	GLfloat* _tmp75_;
	gint _tmp75__length1;
	GLfloat _tmp76_;
	GLfloat* _tmp77_;
	gint _tmp77__length1;
	GLfloat _tmp78_;
	GLfloat* _tmp79_;
	gint _tmp79__length1;
	GLfloat _tmp80_;
	GLfloat* _tmp81_;
	gint _tmp81__length1;
	gdouble _tmp82_ = 0.0;
	GLfloat _tmp83_;
	GLfloat* _tmp84_;
	gint _tmp84__length1;
	GLfloat _tmp85_;
	GLfloat* _tmp86_;
	gint _tmp86__length1;
	gdouble _tmp87_ = 0.0;
	GLfloat _tmp88_;
	GLfloat* _tmp89_;
	gint _tmp89__length1;
	GLfloat _tmp90_;
	GLfloat* _tmp91_;
	gint _tmp91__length1;
	GLfloat _tmp92_;
	GLfloat* _tmp93_;
	gint _tmp93__length1;
	GLfloat _tmp94_;
	GLfloat* _tmp95_;
	gint _tmp95__length1;
	GLfloat _tmp96_;
	GLfloat* _tmp97_;
	gint _tmp97__length1;
	GLfloat _tmp98_;
	soybodiesBody* _tmp99_;
	struct dxBody* _tmp100_;
	dxMatrix3* _tmp101_ = NULL;
	dxMatrix3* rotation;
	GLfloat* _tmp102_;
	gint _tmp102__length1;
	dReal _tmp103_;
	GLfloat _tmp104_;
	GLfloat* _tmp105_;
	gint _tmp105__length1;
	dReal _tmp106_;
	GLfloat _tmp107_;
	GLfloat* _tmp108_;
	gint _tmp108__length1;
	dReal _tmp109_;
	GLfloat _tmp110_;
	GLfloat* _tmp111_;
	gint _tmp111__length1;
	GLfloat _tmp112_;
	GLfloat* _tmp113_;
	gint _tmp113__length1;
	dReal _tmp114_;
	GLfloat _tmp115_;
	GLfloat* _tmp116_;
	gint _tmp116__length1;
	dReal _tmp117_;
	GLfloat _tmp118_;
	GLfloat* _tmp119_;
	gint _tmp119__length1;
	dReal _tmp120_;
	GLfloat _tmp121_;
	GLfloat* _tmp122_;
	gint _tmp122__length1;
	GLfloat _tmp123_;
	GLfloat* _tmp124_;
	gint _tmp124__length1;
	dReal _tmp125_;
	GLfloat _tmp126_;
	GLfloat* _tmp127_;
	gint _tmp127__length1;
	dReal _tmp128_;
	GLfloat _tmp129_;
	GLfloat* _tmp130_;
	gint _tmp130__length1;
	dReal _tmp131_;
	GLfloat _tmp132_;
	GLfloat* _tmp133_;
	gint _tmp133__length1;
	GLfloat _tmp134_;
	GLfloat* _tmp135_;
	gint _tmp135__length1;
	GLfloat _tmp136_;
	GLfloat* _tmp137_;
	gint _tmp137__length1;
	GLfloat _tmp138_;
	GLfloat* _tmp139_;
	gint _tmp139__length1;
	GLfloat _tmp140_;
	GLfloat* _tmp141_;
	gint _tmp141__length1;
	GLfloat _tmp142_;
	self = (soyjointsSlider*) base;
	_tmp0_ = ((soyjointsJoint*) self)->bodyA;
	_tmp1_ = ((soyjointsJoint*) self)->bodyB;
	_tmp2_ = soy_bodies_body_getRelPointPos (_tmp0_, _tmp1_);
	posBRel = _tmp2_;
	_tmp3_ = soy_atoms_vector_get_x (posBRel);
	_tmp4_ = _tmp3_;
	_tmp5_ = soy_atoms_vector_get_x (posBRel);
	_tmp6_ = _tmp5_;
	_tmp7_ = soy_atoms_vector_get_y (posBRel);
	_tmp8_ = _tmp7_;
	_tmp9_ = soy_atoms_vector_get_y (posBRel);
	_tmp10_ = _tmp9_;
	_tmp11_ = soy_atoms_vector_get_z (posBRel);
	_tmp12_ = _tmp11_;
	_tmp13_ = soy_atoms_vector_get_z (posBRel);
	_tmp14_ = _tmp13_;
	_tmp15_ = sqrt ((gdouble) (((_tmp4_ * _tmp6_) + (_tmp8_ * _tmp10_)) + (_tmp12_ * _tmp14_)));
	radius = (dReal) _tmp15_;
	_tmp16_ = soy_atoms_vector_get_y (posBRel);
	_tmp17_ = _tmp16_;
	_tmp18_ = acos ((gdouble) (_tmp17_ / radius));
	phi = (dReal) _tmp18_;
	_tmp19_ = soy_atoms_vector_get_z (posBRel);
	_tmp20_ = _tmp19_;
	_tmp21_ = soy_atoms_vector_get_x (posBRel);
	_tmp22_ = _tmp21_;
	_tmp23_ = atan2 ((gdouble) _tmp20_, (gdouble) _tmp22_);
	theta = (dReal) _tmp23_;
	_tmp24_ = g_new0 (GLfloat, 16);
	self->priv->_jointRotTheta = (g_free (self->priv->_jointRotTheta), NULL);
	self->priv->_jointRotTheta = _tmp24_;
	self->priv->_jointRotTheta_length1 = 16;
	self->priv->__jointRotTheta_size_ = self->priv->_jointRotTheta_length1;
	_tmp25_ = g_new0 (GLfloat, 16);
	self->priv->_jointRotPhi = (g_free (self->priv->_jointRotPhi), NULL);
	self->priv->_jointRotPhi = _tmp25_;
	self->priv->_jointRotPhi_length1 = 16;
	self->priv->__jointRotPhi_size_ = self->priv->_jointRotPhi_length1;
	_tmp26_ = g_new0 (GLfloat, 16);
	self->priv->_inverseRotation = (g_free (self->priv->_inverseRotation), NULL);
	self->priv->_inverseRotation = _tmp26_;
	self->priv->_inverseRotation_length1 = 16;
	self->priv->__inverseRotation_size_ = self->priv->_inverseRotation_length1;
	_tmp27_ = self->priv->_jointRotPhi;
	_tmp27__length1 = self->priv->_jointRotPhi_length1;
	_tmp28_ = cos ((gdouble) phi);
	_tmp27_[0] = (GLfloat) _tmp28_;
	_tmp29_ = _tmp27_[0];
	_tmp30_ = self->priv->_jointRotPhi;
	_tmp30__length1 = self->priv->_jointRotPhi_length1;
	_tmp31_ = sin ((gdouble) phi);
	_tmp30_[1] = (GLfloat) (-_tmp31_);
	_tmp32_ = _tmp30_[1];
	_tmp33_ = self->priv->_jointRotPhi;
	_tmp33__length1 = self->priv->_jointRotPhi_length1;
	_tmp33_[2] = (GLfloat) 0.0;
	_tmp34_ = _tmp33_[2];
	_tmp35_ = self->priv->_jointRotPhi;
	_tmp35__length1 = self->priv->_jointRotPhi_length1;
	_tmp35_[3] = (GLfloat) 0.0;
	_tmp36_ = _tmp35_[3];
	_tmp37_ = self->priv->_jointRotPhi;
	_tmp37__length1 = self->priv->_jointRotPhi_length1;
	_tmp38_ = sin ((gdouble) phi);
	_tmp37_[4] = (GLfloat) _tmp38_;
	_tmp39_ = _tmp37_[4];
	_tmp40_ = self->priv->_jointRotPhi;
	_tmp40__length1 = self->priv->_jointRotPhi_length1;
	_tmp41_ = cos ((gdouble) phi);
	_tmp40_[5] = (GLfloat) _tmp41_;
	_tmp42_ = _tmp40_[5];
	_tmp43_ = self->priv->_jointRotPhi;
	_tmp43__length1 = self->priv->_jointRotPhi_length1;
	_tmp43_[6] = (GLfloat) 0.0;
	_tmp44_ = _tmp43_[6];
	_tmp45_ = self->priv->_jointRotPhi;
	_tmp45__length1 = self->priv->_jointRotPhi_length1;
	_tmp45_[7] = (GLfloat) 0.0;
	_tmp46_ = _tmp45_[7];
	_tmp47_ = self->priv->_jointRotPhi;
	_tmp47__length1 = self->priv->_jointRotPhi_length1;
	_tmp47_[8] = (GLfloat) 0.0;
	_tmp48_ = _tmp47_[8];
	_tmp49_ = self->priv->_jointRotPhi;
	_tmp49__length1 = self->priv->_jointRotPhi_length1;
	_tmp49_[9] = (GLfloat) 0.0;
	_tmp50_ = _tmp49_[9];
	_tmp51_ = self->priv->_jointRotPhi;
	_tmp51__length1 = self->priv->_jointRotPhi_length1;
	_tmp51_[10] = (GLfloat) 1.0;
	_tmp52_ = _tmp51_[10];
	_tmp53_ = self->priv->_jointRotPhi;
	_tmp53__length1 = self->priv->_jointRotPhi_length1;
	_tmp53_[11] = (GLfloat) 0.0;
	_tmp54_ = _tmp53_[11];
	_tmp55_ = self->priv->_jointRotPhi;
	_tmp55__length1 = self->priv->_jointRotPhi_length1;
	_tmp55_[12] = (GLfloat) 0.0;
	_tmp56_ = _tmp55_[12];
	_tmp57_ = self->priv->_jointRotPhi;
	_tmp57__length1 = self->priv->_jointRotPhi_length1;
	_tmp57_[13] = (GLfloat) 0.0;
	_tmp58_ = _tmp57_[13];
	_tmp59_ = self->priv->_jointRotPhi;
	_tmp59__length1 = self->priv->_jointRotPhi_length1;
	_tmp59_[14] = (GLfloat) 0.0;
	_tmp60_ = _tmp59_[14];
	_tmp61_ = self->priv->_jointRotPhi;
	_tmp61__length1 = self->priv->_jointRotPhi_length1;
	_tmp61_[15] = (GLfloat) 1.0;
	_tmp62_ = _tmp61_[15];
	_tmp63_ = self->priv->_jointRotTheta;
	_tmp63__length1 = self->priv->_jointRotTheta_length1;
	_tmp64_ = cos ((gdouble) theta);
	_tmp63_[0] = (GLfloat) _tmp64_;
	_tmp65_ = _tmp63_[0];
	_tmp66_ = self->priv->_jointRotTheta;
	_tmp66__length1 = self->priv->_jointRotTheta_length1;
	_tmp66_[1] = (GLfloat) 0.0;
	_tmp67_ = _tmp66_[1];
	_tmp68_ = self->priv->_jointRotTheta;
	_tmp68__length1 = self->priv->_jointRotTheta_length1;
	_tmp69_ = sin ((gdouble) theta);
	_tmp68_[2] = (GLfloat) _tmp69_;
	_tmp70_ = _tmp68_[2];
	_tmp71_ = self->priv->_jointRotTheta;
	_tmp71__length1 = self->priv->_jointRotTheta_length1;
	_tmp71_[3] = (GLfloat) 0.0;
	_tmp72_ = _tmp71_[3];
	_tmp73_ = self->priv->_jointRotTheta;
	_tmp73__length1 = self->priv->_jointRotTheta_length1;
	_tmp73_[4] = (GLfloat) 0.0;
	_tmp74_ = _tmp73_[4];
	_tmp75_ = self->priv->_jointRotTheta;
	_tmp75__length1 = self->priv->_jointRotTheta_length1;
	_tmp75_[5] = (GLfloat) 1.0;
	_tmp76_ = _tmp75_[5];
	_tmp77_ = self->priv->_jointRotTheta;
	_tmp77__length1 = self->priv->_jointRotTheta_length1;
	_tmp77_[6] = (GLfloat) 0.0;
	_tmp78_ = _tmp77_[6];
	_tmp79_ = self->priv->_jointRotTheta;
	_tmp79__length1 = self->priv->_jointRotTheta_length1;
	_tmp79_[7] = (GLfloat) 0.0;
	_tmp80_ = _tmp79_[7];
	_tmp81_ = self->priv->_jointRotTheta;
	_tmp81__length1 = self->priv->_jointRotTheta_length1;
	_tmp82_ = sin ((gdouble) theta);
	_tmp81_[8] = (GLfloat) (-_tmp82_);
	_tmp83_ = _tmp81_[8];
	_tmp84_ = self->priv->_jointRotTheta;
	_tmp84__length1 = self->priv->_jointRotTheta_length1;
	_tmp84_[9] = (GLfloat) 0.0;
	_tmp85_ = _tmp84_[9];
	_tmp86_ = self->priv->_jointRotTheta;
	_tmp86__length1 = self->priv->_jointRotTheta_length1;
	_tmp87_ = cos ((gdouble) theta);
	_tmp86_[10] = (GLfloat) _tmp87_;
	_tmp88_ = _tmp86_[10];
	_tmp89_ = self->priv->_jointRotTheta;
	_tmp89__length1 = self->priv->_jointRotTheta_length1;
	_tmp89_[11] = (GLfloat) 0.0;
	_tmp90_ = _tmp89_[11];
	_tmp91_ = self->priv->_jointRotTheta;
	_tmp91__length1 = self->priv->_jointRotTheta_length1;
	_tmp91_[12] = (GLfloat) 0.0;
	_tmp92_ = _tmp91_[12];
	_tmp93_ = self->priv->_jointRotTheta;
	_tmp93__length1 = self->priv->_jointRotTheta_length1;
	_tmp93_[13] = (GLfloat) 0.0;
	_tmp94_ = _tmp93_[13];
	_tmp95_ = self->priv->_jointRotTheta;
	_tmp95__length1 = self->priv->_jointRotTheta_length1;
	_tmp95_[14] = (GLfloat) 0.0;
	_tmp96_ = _tmp95_[14];
	_tmp97_ = self->priv->_jointRotTheta;
	_tmp97__length1 = self->priv->_jointRotTheta_length1;
	_tmp97_[15] = (GLfloat) 1.0;
	_tmp98_ = _tmp97_[15];
	_tmp99_ = ((soyjointsJoint*) self)->bodyA;
	_tmp100_ = _tmp99_->body;
	_tmp101_ = dBodyGetRotation (_tmp100_);
	rotation = _tmp101_;
	_tmp102_ = self->priv->_inverseRotation;
	_tmp102__length1 = self->priv->_inverseRotation_length1;
	_tmp103_ = rotation->m0;
	_tmp102_[0] = (GLfloat) _tmp103_;
	_tmp104_ = _tmp102_[0];
	_tmp105_ = self->priv->_inverseRotation;
	_tmp105__length1 = self->priv->_inverseRotation_length1;
	_tmp106_ = rotation->m1;
	_tmp105_[1] = (GLfloat) _tmp106_;
	_tmp107_ = _tmp105_[1];
	_tmp108_ = self->priv->_inverseRotation;
	_tmp108__length1 = self->priv->_inverseRotation_length1;
	_tmp109_ = rotation->m2;
	_tmp108_[2] = (GLfloat) _tmp109_;
	_tmp110_ = _tmp108_[2];
	_tmp111_ = self->priv->_inverseRotation;
	_tmp111__length1 = self->priv->_inverseRotation_length1;
	_tmp111_[3] = (GLfloat) 0.0;
	_tmp112_ = _tmp111_[3];
	_tmp113_ = self->priv->_inverseRotation;
	_tmp113__length1 = self->priv->_inverseRotation_length1;
	_tmp114_ = rotation->m4;
	_tmp113_[4] = (GLfloat) _tmp114_;
	_tmp115_ = _tmp113_[4];
	_tmp116_ = self->priv->_inverseRotation;
	_tmp116__length1 = self->priv->_inverseRotation_length1;
	_tmp117_ = rotation->m5;
	_tmp116_[5] = (GLfloat) _tmp117_;
	_tmp118_ = _tmp116_[5];
	_tmp119_ = self->priv->_inverseRotation;
	_tmp119__length1 = self->priv->_inverseRotation_length1;
	_tmp120_ = rotation->m6;
	_tmp119_[6] = (GLfloat) _tmp120_;
	_tmp121_ = _tmp119_[6];
	_tmp122_ = self->priv->_inverseRotation;
	_tmp122__length1 = self->priv->_inverseRotation_length1;
	_tmp122_[7] = (GLfloat) 0.0;
	_tmp123_ = _tmp122_[7];
	_tmp124_ = self->priv->_inverseRotation;
	_tmp124__length1 = self->priv->_inverseRotation_length1;
	_tmp125_ = rotation->m8;
	_tmp124_[8] = (GLfloat) _tmp125_;
	_tmp126_ = _tmp124_[8];
	_tmp127_ = self->priv->_inverseRotation;
	_tmp127__length1 = self->priv->_inverseRotation_length1;
	_tmp128_ = rotation->m9;
	_tmp127_[9] = (GLfloat) _tmp128_;
	_tmp129_ = _tmp127_[9];
	_tmp130_ = self->priv->_inverseRotation;
	_tmp130__length1 = self->priv->_inverseRotation_length1;
	_tmp131_ = rotation->ma;
	_tmp130_[10] = (GLfloat) _tmp131_;
	_tmp132_ = _tmp130_[10];
	_tmp133_ = self->priv->_inverseRotation;
	_tmp133__length1 = self->priv->_inverseRotation_length1;
	_tmp133_[11] = (GLfloat) 0.0;
	_tmp134_ = _tmp133_[11];
	_tmp135_ = self->priv->_inverseRotation;
	_tmp135__length1 = self->priv->_inverseRotation_length1;
	_tmp135_[12] = (GLfloat) 0.0;
	_tmp136_ = _tmp135_[12];
	_tmp137_ = self->priv->_inverseRotation;
	_tmp137__length1 = self->priv->_inverseRotation_length1;
	_tmp137_[13] = (GLfloat) 0.0;
	_tmp138_ = _tmp137_[13];
	_tmp139_ = self->priv->_inverseRotation;
	_tmp139__length1 = self->priv->_inverseRotation_length1;
	_tmp139_[14] = (GLfloat) 0.0;
	_tmp140_ = _tmp139_[14];
	_tmp141_ = self->priv->_inverseRotation;
	_tmp141__length1 = self->priv->_inverseRotation_length1;
	_tmp141_[15] = (GLfloat) 1.0;
	_tmp142_ = _tmp141_[15];
	_g_object_unref0 (posBRel);
}


static void soy_joints_slider_real_render (soyjointsJoint* base) {
	soyjointsSlider * self;
	soymaterialsMaterial* _tmp0_;
	soymaterialsMaterial* _tmp1_;
	gint i;
	gboolean _tmp2_;
	self = (soyjointsSlider*) base;
	_tmp0_ = soy_joints_joint_get_material ((soyjointsJoint*) self);
	_tmp1_ = _tmp0_;
	if (_tmp1_ == NULL) {
		return;
	}
	i = 0;
	glMatrixMode (GL_MODELVIEW);
	glPushMatrix ();
	g_mutex_lock (&((soyjointsJoint*) self)->mutex);
	soy_joints_joint_mult_model_matrix ((soyjointsJoint*) self);
	_tmp2_ = self->priv->_updated;
	if (_tmp2_) {
		_soy_joints_slider_update_slider (self);
	} else {
		GLuint _tmp3_;
		GLuint _tmp4_;
		_tmp3_ = self->priv->_ebo;
		glBindBuffer (GL_ELEMENT_ARRAY_BUFFER, _tmp3_);
		_tmp4_ = self->priv->_vbo;
		glBindBuffer (GL_ARRAY_BUFFER, _tmp4_);
	}
	glVertexPointer ((GLint) 3, GL_FLOAT, (GLsizei) (sizeof (GLfloat) * 11), NULL);
	glNormalPointer (GL_FLOAT, (GLsizei) (sizeof (GLfloat) * 11), (GLvoid*) (sizeof (GLfloat) * 3));
	while (TRUE) {
		soymaterialsMaterial* _tmp5_;
		soymaterialsMaterial* _tmp6_;
		gint _tmp7_;
		gboolean _tmp8_ = FALSE;
		gint _tmp9_;
		_tmp5_ = soy_joints_joint_get_material ((soyjointsJoint*) self);
		_tmp6_ = _tmp5_;
		_tmp7_ = i;
		_tmp8_ = soy_materials_material_render (_tmp6_, _tmp7_, NULL, NULL);
		if (!_tmp8_) {
			break;
		}
		glDrawElements (GL_TRIANGLES, (GLsizei) 240, GL_UNSIGNED_BYTE, NULL);
		_tmp9_ = i;
		i = _tmp9_ + 1;
	}
	g_mutex_unlock (&((soyjointsJoint*) self)->mutex);
	glMatrixMode (GL_MODELVIEW);
	glPopMatrix ();
}


static void _soy_joints_slider_update_slider (soyjointsSlider* self) {
	g_return_if_fail (self != NULL);
	return;
}


void soy_joints_slider_addForce (soyjointsSlider* self, dReal force) {
	struct dxJoint* _tmp0_;
	dReal _tmp1_;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((soyjointsJoint*) self)->joint;
	_tmp1_ = force;
	dJointAddSliderForce ((struct dxJoint*) _tmp0_, _tmp1_);
}


static void _soy_joints_slider_axis_set (soyjointsSlider* self, soyatomsAxis* value) {
	soyatomsAxis* _tmp0_;
	soyatomsAxis* _tmp1_;
	soyatomsAxis* axis;
	struct dxJoint* _tmp2_;
	gfloat _tmp3_;
	gfloat _tmp4_;
	gfloat _tmp5_;
	gfloat _tmp6_;
	gfloat _tmp7_;
	gfloat _tmp8_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (value != NULL);
	_tmp0_ = value;
	_tmp1_ = soy_atoms_axis_new_normalize (_tmp0_);
	axis = _tmp1_;
	g_rw_lock_writer_lock (&soy_scenes__stepLock);
	_tmp2_ = ((soyjointsJoint*) self)->joint;
	_tmp3_ = soy_atoms_axis_get_x (axis);
	_tmp4_ = _tmp3_;
	_tmp5_ = soy_atoms_axis_get_y (axis);
	_tmp6_ = _tmp5_;
	_tmp7_ = soy_atoms_axis_get_z (axis);
	_tmp8_ = _tmp7_;
	dJointSetSliderAxis ((struct dxJoint*) _tmp2_, (dReal) _tmp4_, (dReal) _tmp6_, (dReal) _tmp8_);
	g_rw_lock_writer_unlock (&soy_scenes__stepLock);
	_g_object_unref0 (axis);
}


static void _soy_joints_slider_axis_weak (soyjointsSlider* self, GObject* axis) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (axis != NULL);
	self->priv->_axis_obj = NULL;
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void __soy_joints_slider_axis_set_soy_atoms_axis_on_set (soyatomsAxis* _sender, soyatomsAxis* vector, gpointer self) {
	_soy_joints_slider_axis_set (self, vector);
}


static void __soy_joints_slider_axis_weak_gweak_notify (gpointer self, GObject* object) {
	_soy_joints_slider_axis_weak (self, object);
}


soyatomsAxis* soy_joints_slider_get_axis (soyjointsSlider* self) {
	soyatomsAxis* result;
	dxVector3* _tmp0_;
	dxVector3* v;
	struct dxJoint* _tmp1_;
	dxVector3* _tmp2_;
	soyatomsAxis* _tmp3_;
	soyatomsAxis* _tmp4_;
	soyatomsAxis* value;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	gboolean _tmp7_ = FALSE;
	soyatomsAxis* _tmp8_;
	gboolean _tmp14_;
	gboolean _tmp20_;
	gboolean _tmp26_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = dvector3_new ();
	v = _tmp0_;
	_tmp1_ = ((soyjointsJoint*) self)->joint;
	_tmp2_ = v;
	dJointGetSliderAxis ((struct dxJoint*) _tmp1_, _tmp2_);
	_tmp3_ = self->priv->_axis_obj;
	_tmp4_ = _g_object_ref0 (_tmp3_);
	value = _tmp4_;
	_tmp8_ = value;
	if (_tmp8_ == NULL) {
		_tmp7_ = TRUE;
	} else {
		dxVector3* _tmp9_;
		dReal _tmp10_;
		soyatomsAxis* _tmp11_;
		gfloat _tmp12_;
		gfloat _tmp13_;
		_tmp9_ = v;
		_tmp10_ = _tmp9_->x;
		_tmp11_ = value;
		_tmp12_ = soy_atoms_axis_get_x (_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp7_ = ((gfloat) _tmp10_) != _tmp13_;
	}
	_tmp14_ = _tmp7_;
	if (_tmp14_) {
		_tmp6_ = TRUE;
	} else {
		dxVector3* _tmp15_;
		dReal _tmp16_;
		soyatomsAxis* _tmp17_;
		gfloat _tmp18_;
		gfloat _tmp19_;
		_tmp15_ = v;
		_tmp16_ = _tmp15_->y;
		_tmp17_ = value;
		_tmp18_ = soy_atoms_axis_get_y (_tmp17_);
		_tmp19_ = _tmp18_;
		_tmp6_ = ((gfloat) _tmp16_) != _tmp19_;
	}
	_tmp20_ = _tmp6_;
	if (_tmp20_) {
		_tmp5_ = TRUE;
	} else {
		dxVector3* _tmp21_;
		dReal _tmp22_;
		soyatomsAxis* _tmp23_;
		gfloat _tmp24_;
		gfloat _tmp25_;
		_tmp21_ = v;
		_tmp22_ = _tmp21_->z;
		_tmp23_ = value;
		_tmp24_ = soy_atoms_axis_get_z (_tmp23_);
		_tmp25_ = _tmp24_;
		_tmp5_ = ((gfloat) _tmp22_) != _tmp25_;
	}
	_tmp26_ = _tmp5_;
	if (_tmp26_) {
		soyatomsAxis* _tmp27_;
		dxVector3* _tmp31_;
		dReal _tmp32_;
		dxVector3* _tmp33_;
		dReal _tmp34_;
		dxVector3* _tmp35_;
		dReal _tmp36_;
		soyatomsAxis* _tmp37_;
		soyatomsAxis* _tmp38_;
		soyatomsAxis* _tmp39_;
		soyatomsAxis* _tmp40_;
		_tmp27_ = value;
		if (_tmp27_ != NULL) {
			soyatomsAxis* _tmp28_;
			guint _tmp29_ = 0U;
			soyatomsAxis* _tmp30_;
			_tmp28_ = self->priv->_axis_obj;
			g_signal_parse_name ("on-set", SOY_ATOMS_TYPE_AXIS, &_tmp29_, NULL, FALSE);
			g_signal_handlers_disconnect_matched (_tmp28_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp29_, 0, NULL, (GCallback) __soy_joints_slider_axis_set_soy_atoms_axis_on_set, self);
			_tmp30_ = self->priv->_axis_obj;
			g_object_weak_unref ((GObject*) _tmp30_, __soy_joints_slider_axis_weak_gweak_notify, self);
		}
		_tmp31_ = v;
		_tmp32_ = _tmp31_->x;
		_tmp33_ = v;
		_tmp34_ = _tmp33_->y;
		_tmp35_ = v;
		_tmp36_ = _tmp35_->z;
		_tmp37_ = soy_atoms_axis_new ((gfloat) _tmp32_, (gfloat) _tmp34_, (gfloat) _tmp36_);
		_g_object_unref0 (value);
		value = _tmp37_;
		_tmp38_ = value;
		g_signal_connect_object (_tmp38_, "on-set", (GCallback) __soy_joints_slider_axis_set_soy_atoms_axis_on_set, self, 0);
		_tmp39_ = value;
		g_object_weak_ref ((GObject*) _tmp39_, __soy_joints_slider_axis_weak_gweak_notify, self);
		_tmp40_ = value;
		self->priv->_axis_obj = _tmp40_;
	}
	result = value;
	_dvector3_free0 (v);
	return result;
}


void soy_joints_slider_set_axis (soyjointsSlider* self, soyatomsAxis* value) {
	soyatomsAxis* _tmp0_;
	soyatomsAxis* _tmp1_;
	soyatomsAxis* _tmp5_;
	soyatomsAxis* _tmp6_;
	soyatomsAxis* _tmp7_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_soy_joints_slider_axis_set (self, _tmp0_);
	_tmp1_ = self->priv->_axis_obj;
	if (_tmp1_ != NULL) {
		soyatomsAxis* _tmp2_;
		guint _tmp3_ = 0U;
		soyatomsAxis* _tmp4_;
		_tmp2_ = self->priv->_axis_obj;
		g_signal_parse_name ("on-set", SOY_ATOMS_TYPE_AXIS, &_tmp3_, NULL, FALSE);
		g_signal_handlers_disconnect_matched (_tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) __soy_joints_slider_axis_set_soy_atoms_axis_on_set, self);
		_tmp4_ = self->priv->_axis_obj;
		g_object_weak_unref ((GObject*) _tmp4_, __soy_joints_slider_axis_weak_gweak_notify, self);
	}
	_tmp5_ = value;
	self->priv->_axis_obj = _tmp5_;
	_tmp6_ = value;
	g_signal_connect_object (_tmp6_, "on-set", (GCallback) __soy_joints_slider_axis_set_soy_atoms_axis_on_set, self, 0);
	_tmp7_ = value;
	g_object_weak_ref ((GObject*) _tmp7_, __soy_joints_slider_axis_weak_gweak_notify, self);
	g_object_notify ((GObject *) self, "axis");
}


gfloat soy_joints_slider_get_length (soyjointsSlider* self) {
	gfloat result;
	struct dxJoint* _tmp0_;
	dReal _tmp1_ = 0.0;
	g_return_val_if_fail (self != NULL, 0.0F);
	_tmp0_ = ((soyjointsJoint*) self)->joint;
	_tmp1_ = dJointGetSliderPosition ((struct dxJoint*) _tmp0_);
	result = (gfloat) _tmp1_;
	return result;
}


static void soy_joints_slider_class_init (soyjointsSliderClass * klass) {
	soy_joints_slider_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (soyjointsSliderPrivate));
	SOY_JOINTS_JOINT_CLASS (klass)->create = soy_joints_slider_real_create;
	SOY_JOINTS_JOINT_CLASS (klass)->setup = soy_joints_slider_real_setup;
	SOY_JOINTS_JOINT_CLASS (klass)->gen_matrices = soy_joints_slider_real_gen_matrices;
	SOY_JOINTS_JOINT_CLASS (klass)->render = soy_joints_slider_real_render;
	G_OBJECT_CLASS (klass)->get_property = _vala_soy_joints_slider_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_soy_joints_slider_set_property;
	G_OBJECT_CLASS (klass)->finalize = soy_joints_slider_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), SOY_JOINTS_SLIDER_AXIS, g_param_spec_object ("axis", "axis", "axis", SOY_ATOMS_TYPE_AXIS, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), SOY_JOINTS_SLIDER_LENGTH, g_param_spec_float ("length", "length", "length", -G_MAXFLOAT, G_MAXFLOAT, 0.0F, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
}


static void soy_joints_slider_instance_init (soyjointsSlider * self) {
	self->priv = SOY_JOINTS_SLIDER_GET_PRIVATE (self);
}


static void soy_joints_slider_finalize (GObject* obj) {
	soyjointsSlider * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SOY_JOINTS_TYPE_SLIDER, soyjointsSlider);
	self->priv->_jointRotTheta = (g_free (self->priv->_jointRotTheta), NULL);
	self->priv->_jointRotPhi = (g_free (self->priv->_jointRotPhi), NULL);
	self->priv->_inverseRotation = (g_free (self->priv->_inverseRotation), NULL);
	G_OBJECT_CLASS (soy_joints_slider_parent_class)->finalize (obj);
}


GType soy_joints_slider_get_type (void) {
	static volatile gsize soy_joints_slider_type_id__volatile = 0;
	if (g_once_init_enter (&soy_joints_slider_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (soyjointsSliderClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) soy_joints_slider_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (soyjointsSlider), 0, (GInstanceInitFunc) soy_joints_slider_instance_init, NULL };
		GType soy_joints_slider_type_id;
		soy_joints_slider_type_id = g_type_register_static (SOY_JOINTS_TYPE_JOINT, "soyjointsSlider", &g_define_type_info, 0);
		g_once_init_leave (&soy_joints_slider_type_id__volatile, soy_joints_slider_type_id);
	}
	return soy_joints_slider_type_id__volatile;
}


static void _vala_soy_joints_slider_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	soyjointsSlider * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SOY_JOINTS_TYPE_SLIDER, soyjointsSlider);
	switch (property_id) {
		case SOY_JOINTS_SLIDER_AXIS:
		g_value_take_object (value, soy_joints_slider_get_axis (self));
		break;
		case SOY_JOINTS_SLIDER_LENGTH:
		g_value_set_float (value, soy_joints_slider_get_length (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_soy_joints_slider_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	soyjointsSlider * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SOY_JOINTS_TYPE_SLIDER, soyjointsSlider);
	switch (property_id) {
		case SOY_JOINTS_SLIDER_AXIS:
		soy_joints_slider_set_axis (self, g_value_get_object (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}



