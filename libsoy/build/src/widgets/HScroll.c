/* HScroll.c generated by valac 0.20.1, the Vala compiler
 * generated from HScroll.gs, do not modify */

/*
 *  libsoy - soy.widgets.HScroll
 *  Copyright (C) 2006,2007,2008,2009,2010,2011,2012,2013 Copyleft Games Group
 *
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published
 *  by the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program; if not, see http://www.gnu.org/licenses
 *
 */

#include <glib.h>
#include <glib-object.h>
#include <gee.h>
#include <float.h>
#include <math.h>
#include <GLES/gl.h>
#include <GLES/glext.h>


#define SOY_WIDGETS_TYPE_WIDGET (soy_widgets_widget_get_type ())
#define SOY_WIDGETS_WIDGET(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_WIDGETS_TYPE_WIDGET, soywidgetsWidget))
#define SOY_WIDGETS_WIDGET_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_WIDGETS_TYPE_WIDGET, soywidgetsWidgetClass))
#define SOY_WIDGETS_IS_WIDGET(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_WIDGETS_TYPE_WIDGET))
#define SOY_WIDGETS_IS_WIDGET_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_WIDGETS_TYPE_WIDGET))
#define SOY_WIDGETS_WIDGET_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_WIDGETS_TYPE_WIDGET, soywidgetsWidgetClass))

typedef struct _soywidgetsWidget soywidgetsWidget;
typedef struct _soywidgetsWidgetClass soywidgetsWidgetClass;
typedef struct _soywidgetsWidgetPrivate soywidgetsWidgetPrivate;

#define SOY_WIDGETS_TYPE_CONTAINER (soy_widgets_container_get_type ())
#define SOY_WIDGETS_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_WIDGETS_TYPE_CONTAINER, soywidgetsContainer))
#define SOY_WIDGETS_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_WIDGETS_TYPE_CONTAINER, soywidgetsContainerClass))
#define SOY_WIDGETS_IS_CONTAINER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_WIDGETS_TYPE_CONTAINER))
#define SOY_WIDGETS_IS_CONTAINER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_WIDGETS_TYPE_CONTAINER))
#define SOY_WIDGETS_CONTAINER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_WIDGETS_TYPE_CONTAINER, soywidgetsContainerClass))

typedef struct _soywidgetsContainer soywidgetsContainer;
typedef struct _soywidgetsContainerClass soywidgetsContainerClass;
typedef struct _soywidgetsContainerPrivate soywidgetsContainerPrivate;

#define SOY_WIDGETS_TYPE_SCROLLER (soy_widgets_scroller_get_type ())
#define SOY_WIDGETS_SCROLLER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_WIDGETS_TYPE_SCROLLER, soywidgetsScroller))
#define SOY_WIDGETS_SCROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_WIDGETS_TYPE_SCROLLER, soywidgetsScrollerClass))
#define SOY_WIDGETS_IS_SCROLLER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_WIDGETS_TYPE_SCROLLER))
#define SOY_WIDGETS_IS_SCROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_WIDGETS_TYPE_SCROLLER))
#define SOY_WIDGETS_SCROLLER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_WIDGETS_TYPE_SCROLLER, soywidgetsScrollerClass))

typedef struct _soywidgetsScroller soywidgetsScroller;
typedef struct _soywidgetsScrollerClass soywidgetsScrollerClass;
typedef struct _soywidgetsScrollerPrivate soywidgetsScrollerPrivate;

#define SOY_EVENTS_TYPE_MOTION (soy_events_motion_get_type ())

#define SOY_TYPE_EVENT_TYPE (soy_event_type_get_type ())

#define SOY_WIDGETS_TYPE_WINDOW (soy_widgets_window_get_type ())
#define SOY_WIDGETS_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_WIDGETS_TYPE_WINDOW, soywidgetsWindow))
#define SOY_WIDGETS_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_WIDGETS_TYPE_WINDOW, soywidgetsWindowClass))
#define SOY_WIDGETS_IS_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_WIDGETS_TYPE_WINDOW))
#define SOY_WIDGETS_IS_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_WIDGETS_TYPE_WINDOW))
#define SOY_WIDGETS_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_WIDGETS_TYPE_WINDOW, soywidgetsWindowClass))

typedef struct _soywidgetsWindow soywidgetsWindow;
typedef struct _soywidgetsWindowClass soywidgetsWindowClass;
typedef struct _soyeventsMotion soyeventsMotion;

#define SOY_EVENTS_TYPE_SCROLL (soy_events_scroll_get_type ())

#define SOY_TYPE_SCROLL_DIRECTION (soy_scroll_direction_get_type ())
typedef struct _soyeventsScroll soyeventsScroll;

#define SOY_ATOMS_TYPE_SIZE (soy_atoms_size_get_type ())
#define SOY_ATOMS_SIZE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_SIZE, soyatomsSize))
#define SOY_ATOMS_SIZE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_SIZE, soyatomsSizeClass))
#define SOY_ATOMS_IS_SIZE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_SIZE))
#define SOY_ATOMS_IS_SIZE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_SIZE))
#define SOY_ATOMS_SIZE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_SIZE, soyatomsSizeClass))

typedef struct _soyatomsSize soyatomsSize;
typedef struct _soyatomsSizeClass soyatomsSizeClass;

#define SOY_ATOMS_TYPE_POSITION (soy_atoms_position_get_type ())
#define SOY_ATOMS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPosition))
#define SOY_ATOMS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))
#define SOY_ATOMS_IS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_IS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_POSITION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))

typedef struct _soyatomsPosition soyatomsPosition;
typedef struct _soyatomsPositionClass soyatomsPositionClass;

#define SOY_WIDGETS_TYPE_HSCROLL (soy_widgets_hscroll_get_type ())
#define SOY_WIDGETS_HSCROLL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_WIDGETS_TYPE_HSCROLL, soywidgetsHScroll))
#define SOY_WIDGETS_HSCROLL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_WIDGETS_TYPE_HSCROLL, soywidgetsHScrollClass))
#define SOY_WIDGETS_IS_HSCROLL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_WIDGETS_TYPE_HSCROLL))
#define SOY_WIDGETS_IS_HSCROLL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_WIDGETS_TYPE_HSCROLL))
#define SOY_WIDGETS_HSCROLL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_WIDGETS_TYPE_HSCROLL, soywidgetsHScrollClass))

typedef struct _soywidgetsHScroll soywidgetsHScroll;
typedef struct _soywidgetsHScrollClass soywidgetsHScrollClass;
typedef struct _soywidgetsHScrollPrivate soywidgetsHScrollPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

struct _soywidgetsWidget {
	GObject parent_instance;
	soywidgetsWidgetPrivate * priv;
	gint width;
	gint height;
	gboolean resized;
};

struct _soywidgetsWidgetClass {
	GObjectClass parent_class;
	void (*add) (soywidgetsWidget* self, soywidgetsContainer* parent);
	void (*remove) (soywidgetsWidget* self);
	void (*render) (soywidgetsWidget* self, gint x, gint y, gint width, gint height);
	void (*resize) (soywidgetsWidget* self, gint x, gint y, gint width, gint height);
};

struct _soywidgetsContainer {
	soywidgetsWidget parent_instance;
	soywidgetsContainerPrivate * priv;
	GeeLinkedList* children;
	GMutex mutex;
};

struct _soywidgetsContainerClass {
	soywidgetsWidgetClass parent_class;
	void (*resize_children) (soywidgetsContainer* self, gint x, gint y, gint width, gint height);
};

typedef enum  {
	SOY_EVENT_TYPE_KeyPress,
	SOY_EVENT_TYPE_KeyDown,
	SOY_EVENT_TYPE_KeyRelease,
	SOY_EVENT_TYPE_Motion,
	SOY_EVENT_TYPE_ButtonPress,
	SOY_EVENT_TYPE_ButtonRelease,
	SOY_EVENT_TYPE_Scroll,
	SOY_EVENT_TYPE_WiimoteButtonPress
} soyEventType;

struct _soyeventsMotion {
	soyEventType type;
	soywidgetsWindow* window;
	guint32 time;
	gfloat x;
	gfloat y;
	gfloat x_root;
	gfloat y_root;
};

typedef enum  {
	SOY_SCROLL_DIRECTION_Up,
	SOY_SCROLL_DIRECTION_Down,
	SOY_SCROLL_DIRECTION_Left,
	SOY_SCROLL_DIRECTION_Right
} soyScrollDirection;

struct _soyeventsScroll {
	soyEventType type;
	soywidgetsWindow* window;
	guint32 time;
	gfloat x;
	gfloat y;
	gfloat x_root;
	gfloat y_root;
	soyScrollDirection direction;
};

struct _soywidgetsScroller {
	soywidgetsContainer parent_instance;
	soywidgetsScrollerPrivate * priv;
	soywidgetsContainer* parent;
	soyatomsSize* scrollbarSize;
	soyatomsPosition* scrollPosition;
	gint scrollbarThickness;
	gboolean drag;
	gfloat xstartdrag;
	gfloat ystartdrag;
	gfloat xpos_startdrag;
	gfloat ypos_startdrag;
};

struct _soywidgetsScrollerClass {
	soywidgetsContainerClass parent_class;
	void (*motion_handler) (soywidgetsScroller* self, soyeventsMotion* e);
	void (*scroll_handler) (soywidgetsScroller* self, soyeventsScroll* e);
};

struct _soywidgetsHScroll {
	soywidgetsScroller parent_instance;
	soywidgetsHScrollPrivate * priv;
};

struct _soywidgetsHScrollClass {
	soywidgetsScrollerClass parent_class;
};

struct _soywidgetsHScrollPrivate {
	soyatomsSize* _viewPort;
	gboolean _hasBar;
	GLuint _vbuffer;
	GLuint _ibuffer;
	gfloat _totalWidth;
	gfloat _scrollWidth;
	soyatomsPosition* _testpos;
};


static gpointer soy_widgets_hscroll_parent_class = NULL;
static GLfloat* soy_widgets_hscroll__verts;
static gint soy_widgets_hscroll__verts_length1;
static GLfloat* soy_widgets_hscroll__verts = NULL;
static gint soy_widgets_hscroll__verts_length1 = 0;
static gint _soy_widgets_hscroll__verts_size_ = 0;
static GLushort* soy_widgets_hscroll__faces;
static gint soy_widgets_hscroll__faces_length1;
static GLushort* soy_widgets_hscroll__faces = NULL;
static gint soy_widgets_hscroll__faces_length1 = 0;
static gint _soy_widgets_hscroll__faces_size_ = 0;

GType soy_widgets_widget_get_type (void) G_GNUC_CONST;
GType soy_widgets_container_get_type (void) G_GNUC_CONST;
GType soy_widgets_scroller_get_type (void) G_GNUC_CONST;
GType soy_events_motion_get_type (void) G_GNUC_CONST;
GType soy_event_type_get_type (void) G_GNUC_CONST;
GType soy_widgets_window_get_type (void) G_GNUC_CONST;
soyeventsMotion* soy_events_motion_dup (const soyeventsMotion* self);
void soy_events_motion_free (soyeventsMotion* self);
void soy_events_motion_copy (const soyeventsMotion* self, soyeventsMotion* dest);
void soy_events_motion_destroy (soyeventsMotion* self);
GType soy_events_scroll_get_type (void) G_GNUC_CONST;
GType soy_scroll_direction_get_type (void) G_GNUC_CONST;
soyeventsScroll* soy_events_scroll_dup (const soyeventsScroll* self);
void soy_events_scroll_free (soyeventsScroll* self);
void soy_events_scroll_copy (const soyeventsScroll* self, soyeventsScroll* dest);
void soy_events_scroll_destroy (soyeventsScroll* self);
GType soy_atoms_size_get_type (void) G_GNUC_CONST;
GType soy_atoms_position_get_type (void) G_GNUC_CONST;
GType soy_widgets_hscroll_get_type (void) G_GNUC_CONST;
#define SOY_WIDGETS_HSCROLL_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SOY_WIDGETS_TYPE_HSCROLL, soywidgetsHScrollPrivate))
enum  {
	SOY_WIDGETS_HSCROLL_DUMMY_PROPERTY
};
soywidgetsHScroll* soy_widgets_hscroll_new (void);
soywidgetsHScroll* soy_widgets_hscroll_construct (GType object_type);
soywidgetsScroller* soy_widgets_scroller_new (void);
soywidgetsScroller* soy_widgets_scroller_construct (GType object_type);
soyatomsSize* soy_widgets_widget_get_size (soywidgetsWidget* self);
gfloat soy_atoms_size_get_width (soyatomsSize* self);
gfloat soy_atoms_size_get_height (soyatomsSize* self);
soyatomsSize* soy_atoms_size_new (gfloat width, gfloat height, gfloat depth);
soyatomsSize* soy_atoms_size_construct (GType object_type, gfloat width, gfloat height, gfloat depth);
soyatomsPosition* soy_atoms_position_new (gfloat x, gfloat y, gfloat z);
soyatomsPosition* soy_atoms_position_construct (GType object_type, gfloat x, gfloat y, gfloat z);
static void soy_widgets_hscroll_real_render (soywidgetsWidget* base, gint x, gint y, gint width, gint height);
void soy_widgets_widget_render (soywidgetsWidget* self, gint x, gint y, gint width, gint height);
gfloat soy_atoms_position_get_x (soyatomsPosition* self);
static void soy_widgets_hscroll_real_resize_children (soywidgetsContainer* base, gint x, gint y, gint width, gint height);
void soy_atoms_size_set_height (soyatomsSize* self, gfloat value);
void soy_atoms_position_set_x (soyatomsPosition* self, gfloat value);
void soy_atoms_position_set_y (soyatomsPosition* self, gfloat value);
static void soy_widgets_hscroll_real_motion_handler (soywidgetsScroller* base, soyeventsMotion* e);
static void soy_widgets_hscroll_real_scroll_handler (soywidgetsScroller* base, soyeventsScroll* e);
static void soy_widgets_hscroll_finalize (GObject* obj);


soywidgetsHScroll* soy_widgets_hscroll_construct (GType object_type) {
	soywidgetsHScroll * self = NULL;
	soyatomsSize* _tmp0_;
	soyatomsSize* _tmp1_;
	soyatomsSize* _tmp2_;
	gfloat _tmp3_;
	gfloat _tmp4_;
	soyatomsSize* _tmp5_;
	soyatomsSize* _tmp6_;
	soyatomsSize* _tmp7_;
	gfloat _tmp8_;
	gfloat _tmp9_;
	soyatomsSize* _tmp10_;
	soyatomsPosition* _tmp11_;
	soyatomsPosition* _tmp12_;
	self = (soywidgetsHScroll*) soy_widgets_scroller_construct (object_type);
	_tmp0_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
	_tmp1_ = _tmp0_;
	_tmp2_ = _tmp1_;
	_tmp3_ = soy_atoms_size_get_width (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp5_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
	_tmp6_ = _tmp5_;
	_tmp7_ = _tmp6_;
	_tmp8_ = soy_atoms_size_get_height (_tmp7_);
	_tmp9_ = _tmp8_;
	_tmp10_ = soy_atoms_size_new (_tmp4_, _tmp9_, 0.0f);
	_g_object_unref0 (self->priv->_viewPort);
	self->priv->_viewPort = _tmp10_;
	_g_object_unref0 (_tmp7_);
	_g_object_unref0 (_tmp2_);
	self->priv->_hasBar = FALSE;
	_tmp11_ = soy_atoms_position_new (0.0f, 0.0f, 0.0f);
	_g_object_unref0 (self->priv->_testpos);
	self->priv->_testpos = _tmp11_;
	_tmp12_ = soy_atoms_position_new (0.0f, 0.0f, 0.0f);
	_g_object_unref0 (((soywidgetsScroller*) self)->scrollPosition);
	((soywidgetsScroller*) self)->scrollPosition = _tmp12_;
	return self;
}


soywidgetsHScroll* soy_widgets_hscroll_new (void) {
	return soy_widgets_hscroll_construct (SOY_WIDGETS_TYPE_HSCROLL);
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void soy_widgets_hscroll_real_render (soywidgetsWidget* base, gint x, gint y, gint width, gint height) {
	soywidgetsHScroll * self;
	gint _tmp0_;
	gint _x;
	gint _tmp1_;
	gint _y;
	gboolean _tmp23_;
	GLfloat* _tmp24_ = NULL;
	GLushort* _tmp25_ = NULL;
	gboolean _tmp26_ = FALSE;
	GLuint _tmp27_;
	gboolean _tmp29_;
	soyatomsSize* _tmp38_;
	gfloat _tmp39_;
	gfloat _tmp40_;
	gint _tmp41_;
	gdouble viewPort2Width;
	soyatomsSize* _tmp42_;
	soyatomsSize* _tmp43_;
	soyatomsSize* _tmp44_;
	gfloat _tmp45_;
	gfloat _tmp46_;
	gfloat _tmp47_;
	gboolean _tmp48_;
	soyatomsPosition* _tmp60_;
	gfloat _tmp61_;
	gfloat _tmp62_;
	gdouble _tmp63_;
	gint _tmp64_;
	self = (soywidgetsHScroll*) base;
	_tmp0_ = x;
	_x = _tmp0_;
	_tmp1_ = y;
	_y = _tmp1_;
	{
		GeeLinkedList* _tmp2_;
		GeeLinkedList* _tmp3_;
		GeeLinkedList* _widget_list;
		GeeLinkedList* _tmp4_;
		gint _tmp5_;
		gint _tmp6_;
		gint _widget_size;
		gint _widget_index;
		_tmp2_ = ((soywidgetsContainer*) self)->children;
		_tmp3_ = _g_object_ref0 (_tmp2_);
		_widget_list = _tmp3_;
		_tmp4_ = _widget_list;
		_tmp5_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp4_);
		_tmp6_ = _tmp5_;
		_widget_size = _tmp6_;
		_widget_index = -1;
		while (TRUE) {
			gint _tmp7_;
			gint _tmp8_;
			gint _tmp9_;
			GeeLinkedList* _tmp10_;
			gint _tmp11_;
			gpointer _tmp12_ = NULL;
			soywidgetsWidget* widget;
			soywidgetsWidget* _tmp13_;
			gint _tmp14_;
			gint _tmp15_;
			soywidgetsWidget* _tmp16_;
			gint _tmp17_;
			soywidgetsWidget* _tmp18_;
			gint _tmp19_;
			gint _tmp20_;
			soywidgetsWidget* _tmp21_;
			gint _tmp22_;
			_tmp7_ = _widget_index;
			_widget_index = _tmp7_ + 1;
			_tmp8_ = _widget_index;
			_tmp9_ = _widget_size;
			if (!(_tmp8_ < _tmp9_)) {
				break;
			}
			_tmp10_ = _widget_list;
			_tmp11_ = _widget_index;
			_tmp12_ = gee_abstract_list_get ((GeeAbstractList*) _tmp10_, _tmp11_);
			widget = (soywidgetsWidget*) _tmp12_;
			_tmp13_ = widget;
			_tmp14_ = _x;
			_tmp15_ = _y;
			_tmp16_ = widget;
			_tmp17_ = _tmp16_->width;
			_tmp18_ = widget;
			_tmp19_ = _tmp18_->height;
			soy_widgets_widget_render (_tmp13_, _tmp14_, _tmp15_, _tmp17_, _tmp19_);
			_tmp20_ = _x;
			_tmp21_ = widget;
			_tmp22_ = _tmp21_->width;
			_x = _tmp20_ + _tmp22_;
			_g_object_unref0 (widget);
		}
		_g_object_unref0 (_widget_list);
	}
	_tmp23_ = self->priv->_hasBar;
	if (!_tmp23_) {
		return;
	}
	_tmp24_ = g_new0 (GLfloat, 20);
	_tmp24_[0] = (GLfloat) 0.0f;
	_tmp24_[1] = (GLfloat) 0.0f;
	_tmp24_[2] = (GLfloat) 0.0f;
	_tmp24_[3] = (GLfloat) 0.0f;
	_tmp24_[4] = (GLfloat) 0.0f;
	_tmp24_[5] = (GLfloat) 1.0f;
	_tmp24_[6] = (GLfloat) 0.0f;
	_tmp24_[7] = (GLfloat) 0.0f;
	_tmp24_[8] = (GLfloat) 1.0f;
	_tmp24_[9] = (GLfloat) 0.0f;
	_tmp24_[10] = (GLfloat) 1.0f;
	_tmp24_[11] = (GLfloat) 1.0f;
	_tmp24_[12] = (GLfloat) 0.0f;
	_tmp24_[13] = (GLfloat) 1.0f;
	_tmp24_[14] = (GLfloat) 1.0f;
	_tmp24_[15] = (GLfloat) 0.0f;
	_tmp24_[16] = (GLfloat) 1.0f;
	_tmp24_[17] = (GLfloat) 0.0f;
	_tmp24_[18] = (GLfloat) 0.0f;
	_tmp24_[19] = (GLfloat) 1.0f;
	soy_widgets_hscroll__verts = (g_free (soy_widgets_hscroll__verts), NULL);
	soy_widgets_hscroll__verts = _tmp24_;
	soy_widgets_hscroll__verts_length1 = 20;
	_soy_widgets_hscroll__verts_size_ = soy_widgets_hscroll__verts_length1;
	_tmp25_ = g_new0 (GLushort, 6);
	_tmp25_[0] = (GLushort) 0;
	_tmp25_[1] = (GLushort) 1;
	_tmp25_[2] = (GLushort) 2;
	_tmp25_[3] = (GLushort) 2;
	_tmp25_[4] = (GLushort) 3;
	_tmp25_[5] = (GLushort) 0;
	soy_widgets_hscroll__faces = (g_free (soy_widgets_hscroll__faces), NULL);
	soy_widgets_hscroll__faces = _tmp25_;
	soy_widgets_hscroll__faces_length1 = 6;
	_soy_widgets_hscroll__faces_size_ = soy_widgets_hscroll__faces_length1;
	_tmp27_ = self->priv->_vbuffer;
	if (_tmp27_ == ((GLuint) 0)) {
		_tmp26_ = TRUE;
	} else {
		GLuint _tmp28_;
		_tmp28_ = self->priv->_ibuffer;
		_tmp26_ = _tmp28_ == ((GLuint) 0);
	}
	_tmp29_ = _tmp26_;
	if (_tmp29_) {
		GLuint _tmp30_ = 0U;
		GLuint _tmp31_;
		GLfloat* _tmp32_;
		gint _tmp32__length1;
		GLuint _tmp33_ = 0U;
		GLuint _tmp34_;
		GLushort* _tmp35_;
		gint _tmp35__length1;
		glGenBuffers ((GLsizei) 1, &_tmp30_);
		self->priv->_vbuffer = _tmp30_;
		_tmp31_ = self->priv->_vbuffer;
		glBindBuffer (GL_ARRAY_BUFFER, _tmp31_);
		_tmp32_ = soy_widgets_hscroll__verts;
		_tmp32__length1 = soy_widgets_hscroll__verts_length1;
		glBufferData (GL_ARRAY_BUFFER, ((GLsizei) sizeof (GLfloat)) * 20, _tmp32_, GL_STATIC_DRAW);
		glGenBuffers ((GLsizei) 1, &_tmp33_);
		self->priv->_ibuffer = _tmp33_;
		_tmp34_ = self->priv->_ibuffer;
		glBindBuffer (GL_ELEMENT_ARRAY_BUFFER, _tmp34_);
		_tmp35_ = soy_widgets_hscroll__faces;
		_tmp35__length1 = soy_widgets_hscroll__faces_length1;
		glBufferData (GL_ELEMENT_ARRAY_BUFFER, ((GLsizei) sizeof (GLushort)) * 6, _tmp35_, GL_STATIC_DRAW);
	} else {
		GLuint _tmp36_;
		GLuint _tmp37_;
		_tmp36_ = self->priv->_vbuffer;
		glBindBuffer (GL_ARRAY_BUFFER, _tmp36_);
		_tmp37_ = self->priv->_ibuffer;
		glBindBuffer (GL_ELEMENT_ARRAY_BUFFER, _tmp37_);
	}
	_tmp38_ = self->priv->_viewPort;
	_tmp39_ = soy_atoms_size_get_width (_tmp38_);
	_tmp40_ = _tmp39_;
	_tmp41_ = ((soywidgetsScroller*) self)->scrollbarThickness;
	glViewport ((GLint) 0, (GLint) 0, (GLsizei) ((GLint) _tmp40_), (GLsizei) ((GLint) _tmp41_));
	glMatrixMode (GL_PROJECTION);
	glLoadIdentity ();
	glOrthof ((GLfloat) 0.0f, (GLfloat) 1.0f, (GLfloat) 1.0f, (GLfloat) 0.0f, (GLfloat) (-1.0f), (GLfloat) 1.0f);
	glMatrixMode (GL_MODELVIEW);
	glLoadIdentity ();
	glDisableClientState (GL_NORMAL_ARRAY);
	glVertexPointer ((GLint) 3, GL_FLOAT, (GLsizei) 20, (void*) 0);
	glDrawElements (GL_TRIANGLES, (GLsizei) 6, GL_UNSIGNED_SHORT, (void*) 0);
	glColor4f ((GLfloat) 0, (GLfloat) 1, (GLfloat) 0, (GLfloat) 1);
	viewPort2Width = 0.0;
	_tmp42_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
	_tmp43_ = _tmp42_;
	_tmp44_ = _tmp43_;
	_tmp45_ = soy_atoms_size_get_width (_tmp44_);
	_tmp46_ = _tmp45_;
	_tmp47_ = self->priv->_totalWidth;
	_tmp48_ = _tmp46_ < _tmp47_;
	_g_object_unref0 (_tmp44_);
	if (_tmp48_) {
		soyatomsSize* _tmp49_;
		soyatomsSize* _tmp50_;
		soyatomsSize* _tmp51_;
		gfloat _tmp52_;
		gfloat _tmp53_;
		gfloat _tmp54_;
		soyatomsSize* _tmp55_;
		soyatomsSize* _tmp56_;
		soyatomsSize* _tmp57_;
		gfloat _tmp58_;
		gfloat _tmp59_;
		_tmp49_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
		_tmp50_ = _tmp49_;
		_tmp51_ = _tmp50_;
		_tmp52_ = soy_atoms_size_get_width (_tmp51_);
		_tmp53_ = _tmp52_;
		_tmp54_ = self->priv->_totalWidth;
		_tmp55_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
		_tmp56_ = _tmp55_;
		_tmp57_ = _tmp56_;
		_tmp58_ = soy_atoms_size_get_width (_tmp57_);
		_tmp59_ = _tmp58_;
		viewPort2Width = (gdouble) ((_tmp53_ / _tmp54_) * _tmp59_);
		_g_object_unref0 (_tmp57_);
		_g_object_unref0 (_tmp51_);
	}
	_tmp60_ = ((soywidgetsScroller*) self)->scrollPosition;
	_tmp61_ = soy_atoms_position_get_x (_tmp60_);
	_tmp62_ = _tmp61_;
	_tmp63_ = viewPort2Width;
	_tmp64_ = ((soywidgetsScroller*) self)->scrollbarThickness;
	glViewport ((GLint) _tmp62_, (GLint) 0, (GLsizei) ((GLint) _tmp63_), (GLsizei) ((GLint) _tmp64_));
	glDrawElements (GL_TRIANGLES, (GLsizei) 6, GL_UNSIGNED_SHORT, (void*) 0);
	glColor4f ((GLfloat) 1, (GLfloat) 1, (GLfloat) 1, (GLfloat) 1);
}


static void soy_widgets_hscroll_real_resize_children (soywidgetsContainer* base, gint x, gint y, gint width, gint height) {
	soywidgetsHScroll * self;
	gfloat _tmp39_;
	soyatomsSize* _tmp40_;
	soyatomsSize* _tmp41_;
	soyatomsSize* _tmp42_;
	gfloat _tmp43_;
	gfloat _tmp44_;
	gboolean _tmp45_;
	gfloat viewPortWidth;
	gboolean _tmp81_;
	gfloat viewPortHeight;
	gboolean _tmp88_;
	gfloat _tmp100_;
	gfloat _tmp101_;
	soyatomsSize* _tmp102_;
	soyatomsSize* _tmp103_;
	soyatomsSize* _tmp104_;
	soyatomsSize* _tmp105_;
	gfloat _tmp106_;
	gfloat _tmp107_;
	gfloat _tmp108_;
	gboolean _tmp109_;
	soyatomsPosition* _tmp121_;
	soyatomsPosition* _tmp122_;
	gfloat _tmp123_;
	gint _tmp124_;
	soyatomsSize* _tmp125_;
	self = (soywidgetsHScroll*) base;
	self->priv->_totalWidth = 0.0f;
	{
		GeeLinkedList* _tmp0_;
		GeeLinkedList* _tmp1_;
		GeeLinkedList* _widget_list;
		GeeLinkedList* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
		gint _widget_size;
		gint _widget_index;
		_tmp0_ = ((soywidgetsContainer*) self)->children;
		_tmp1_ = _g_object_ref0 (_tmp0_);
		_widget_list = _tmp1_;
		_tmp2_ = _widget_list;
		_tmp3_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_widget_size = _tmp4_;
		_widget_index = -1;
		while (TRUE) {
			gint _tmp5_;
			gint _tmp6_;
			gint _tmp7_;
			GeeLinkedList* _tmp8_;
			gint _tmp9_;
			gpointer _tmp10_ = NULL;
			soywidgetsWidget* widget;
			gfloat _tmp11_;
			soywidgetsWidget* _tmp12_;
			soyatomsSize* _tmp13_;
			soyatomsSize* _tmp14_;
			soyatomsSize* _tmp15_;
			gfloat _tmp16_;
			gfloat _tmp17_;
			soywidgetsWidget* _tmp18_;
			soyatomsSize* _tmp19_;
			soyatomsSize* _tmp20_;
			soyatomsSize* _tmp21_;
			gfloat _tmp22_;
			gfloat _tmp23_;
			soyatomsSize* _tmp24_;
			soyatomsSize* _tmp25_;
			soyatomsSize* _tmp26_;
			gfloat _tmp27_;
			gfloat _tmp28_;
			gboolean _tmp29_;
			_tmp5_ = _widget_index;
			_widget_index = _tmp5_ + 1;
			_tmp6_ = _widget_index;
			_tmp7_ = _widget_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _widget_list;
			_tmp9_ = _widget_index;
			_tmp10_ = gee_abstract_list_get ((GeeAbstractList*) _tmp8_, _tmp9_);
			widget = (soywidgetsWidget*) _tmp10_;
			_tmp11_ = self->priv->_totalWidth;
			_tmp12_ = widget;
			_tmp13_ = soy_widgets_widget_get_size (_tmp12_);
			_tmp14_ = _tmp13_;
			_tmp15_ = _tmp14_;
			_tmp16_ = soy_atoms_size_get_width (_tmp15_);
			_tmp17_ = _tmp16_;
			self->priv->_totalWidth = _tmp11_ + _tmp17_;
			_g_object_unref0 (_tmp15_);
			_tmp18_ = widget;
			_tmp19_ = soy_widgets_widget_get_size (_tmp18_);
			_tmp20_ = _tmp19_;
			_tmp21_ = _tmp20_;
			_tmp22_ = soy_atoms_size_get_height (_tmp21_);
			_tmp23_ = _tmp22_;
			_tmp24_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
			_tmp25_ = _tmp24_;
			_tmp26_ = _tmp25_;
			_tmp27_ = soy_atoms_size_get_height (_tmp26_);
			_tmp28_ = _tmp27_;
			_tmp29_ = _tmp23_ > _tmp28_;
			_g_object_unref0 (_tmp26_);
			_g_object_unref0 (_tmp21_);
			if (_tmp29_) {
				soywidgetsWidget* _tmp30_;
				soyatomsSize* _tmp31_;
				soyatomsSize* _tmp32_;
				soyatomsSize* _tmp33_;
				soyatomsSize* _tmp34_;
				soyatomsSize* _tmp35_;
				soyatomsSize* _tmp36_;
				gfloat _tmp37_;
				gfloat _tmp38_;
				_tmp30_ = widget;
				_tmp31_ = soy_widgets_widget_get_size (_tmp30_);
				_tmp32_ = _tmp31_;
				_tmp33_ = _tmp32_;
				_tmp34_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
				_tmp35_ = _tmp34_;
				_tmp36_ = _tmp35_;
				_tmp37_ = soy_atoms_size_get_height (_tmp36_);
				_tmp38_ = _tmp37_;
				soy_atoms_size_set_height (_tmp33_, _tmp38_);
				_g_object_unref0 (_tmp36_);
				_g_object_unref0 (_tmp33_);
			}
			_g_object_unref0 (widget);
		}
		_g_object_unref0 (_widget_list);
	}
	_tmp39_ = self->priv->_totalWidth;
	_tmp40_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
	_tmp41_ = _tmp40_;
	_tmp42_ = _tmp41_;
	_tmp43_ = soy_atoms_size_get_width (_tmp42_);
	_tmp44_ = _tmp43_;
	_tmp45_ = _tmp39_ > _tmp44_;
	_g_object_unref0 (_tmp42_);
	if (_tmp45_) {
		self->priv->_hasBar = TRUE;
		{
			GeeLinkedList* _tmp46_;
			GeeLinkedList* _tmp47_;
			GeeLinkedList* _widget_list;
			GeeLinkedList* _tmp48_;
			gint _tmp49_;
			gint _tmp50_;
			gint _widget_size;
			gint _widget_index;
			_tmp46_ = ((soywidgetsContainer*) self)->children;
			_tmp47_ = _g_object_ref0 (_tmp46_);
			_widget_list = _tmp47_;
			_tmp48_ = _widget_list;
			_tmp49_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp48_);
			_tmp50_ = _tmp49_;
			_widget_size = _tmp50_;
			_widget_index = -1;
			while (TRUE) {
				gint _tmp51_;
				gint _tmp52_;
				gint _tmp53_;
				GeeLinkedList* _tmp54_;
				gint _tmp55_;
				gpointer _tmp56_ = NULL;
				soywidgetsWidget* widget;
				soywidgetsWidget* _tmp57_;
				soyatomsSize* _tmp58_;
				soyatomsSize* _tmp59_;
				soyatomsSize* _tmp60_;
				gfloat _tmp61_;
				gfloat _tmp62_;
				soyatomsSize* _tmp63_;
				soyatomsSize* _tmp64_;
				soyatomsSize* _tmp65_;
				gfloat _tmp66_;
				gfloat _tmp67_;
				gint _tmp68_;
				gboolean _tmp69_;
				_tmp51_ = _widget_index;
				_widget_index = _tmp51_ + 1;
				_tmp52_ = _widget_index;
				_tmp53_ = _widget_size;
				if (!(_tmp52_ < _tmp53_)) {
					break;
				}
				_tmp54_ = _widget_list;
				_tmp55_ = _widget_index;
				_tmp56_ = gee_abstract_list_get ((GeeAbstractList*) _tmp54_, _tmp55_);
				widget = (soywidgetsWidget*) _tmp56_;
				_tmp57_ = widget;
				_tmp58_ = soy_widgets_widget_get_size (_tmp57_);
				_tmp59_ = _tmp58_;
				_tmp60_ = _tmp59_;
				_tmp61_ = soy_atoms_size_get_height (_tmp60_);
				_tmp62_ = _tmp61_;
				_tmp63_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
				_tmp64_ = _tmp63_;
				_tmp65_ = _tmp64_;
				_tmp66_ = soy_atoms_size_get_height (_tmp65_);
				_tmp67_ = _tmp66_;
				_tmp68_ = ((soywidgetsScroller*) self)->scrollbarThickness;
				_tmp69_ = _tmp62_ >= (_tmp67_ - _tmp68_);
				_g_object_unref0 (_tmp65_);
				_g_object_unref0 (_tmp60_);
				if (_tmp69_) {
					soywidgetsWidget* _tmp70_;
					soyatomsSize* _tmp71_;
					soyatomsSize* _tmp72_;
					soyatomsSize* _tmp73_;
					soywidgetsWidget* _tmp74_;
					soyatomsSize* _tmp75_;
					soyatomsSize* _tmp76_;
					soyatomsSize* _tmp77_;
					gfloat _tmp78_;
					gfloat _tmp79_;
					gint _tmp80_;
					_tmp70_ = widget;
					_tmp71_ = soy_widgets_widget_get_size (_tmp70_);
					_tmp72_ = _tmp71_;
					_tmp73_ = _tmp72_;
					_tmp74_ = widget;
					_tmp75_ = soy_widgets_widget_get_size (_tmp74_);
					_tmp76_ = _tmp75_;
					_tmp77_ = _tmp76_;
					_tmp78_ = soy_atoms_size_get_height (_tmp77_);
					_tmp79_ = _tmp78_;
					_tmp80_ = ((soywidgetsScroller*) self)->scrollbarThickness;
					soy_atoms_size_set_height (_tmp77_, _tmp79_ - _tmp80_);
					_g_object_unref0 (_tmp77_);
					_g_object_unref0 (_tmp73_);
				}
				_g_object_unref0 (widget);
			}
			_g_object_unref0 (_widget_list);
		}
	}
	viewPortWidth = 0.0f;
	_tmp81_ = self->priv->_hasBar;
	if (_tmp81_) {
		soyatomsSize* _tmp82_;
		soyatomsSize* _tmp83_;
		soyatomsSize* _tmp84_;
		gfloat _tmp85_;
		gfloat _tmp86_;
		_tmp82_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
		_tmp83_ = _tmp82_;
		_tmp84_ = _tmp83_;
		_tmp85_ = soy_atoms_size_get_width (_tmp84_);
		_tmp86_ = _tmp85_;
		viewPortWidth = _tmp86_;
		_g_object_unref0 (_tmp84_);
	} else {
		gfloat _tmp87_;
		_tmp87_ = self->priv->_totalWidth;
		viewPortWidth = _tmp87_;
	}
	viewPortHeight = 0.0f;
	_tmp88_ = self->priv->_hasBar;
	if (_tmp88_) {
		soyatomsSize* _tmp89_;
		soyatomsSize* _tmp90_;
		soyatomsSize* _tmp91_;
		gfloat _tmp92_;
		gfloat _tmp93_;
		gint _tmp94_;
		_tmp89_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
		_tmp90_ = _tmp89_;
		_tmp91_ = _tmp90_;
		_tmp92_ = soy_atoms_size_get_height (_tmp91_);
		_tmp93_ = _tmp92_;
		_tmp94_ = ((soywidgetsScroller*) self)->scrollbarThickness;
		viewPortHeight = _tmp93_ - _tmp94_;
		_g_object_unref0 (_tmp91_);
	} else {
		soyatomsSize* _tmp95_;
		soyatomsSize* _tmp96_;
		soyatomsSize* _tmp97_;
		gfloat _tmp98_;
		gfloat _tmp99_;
		_tmp95_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
		_tmp96_ = _tmp95_;
		_tmp97_ = _tmp96_;
		_tmp98_ = soy_atoms_size_get_height (_tmp97_);
		_tmp99_ = _tmp98_;
		viewPortHeight = _tmp99_;
		_g_object_unref0 (_tmp97_);
	}
	_tmp100_ = viewPortWidth;
	_tmp101_ = viewPortHeight;
	_tmp102_ = soy_atoms_size_new (_tmp100_, _tmp101_, 0.0f);
	_g_object_unref0 (self->priv->_viewPort);
	self->priv->_viewPort = _tmp102_;
	_tmp103_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
	_tmp104_ = _tmp103_;
	_tmp105_ = _tmp104_;
	_tmp106_ = soy_atoms_size_get_width (_tmp105_);
	_tmp107_ = _tmp106_;
	_tmp108_ = self->priv->_totalWidth;
	_tmp109_ = _tmp107_ >= _tmp108_;
	_g_object_unref0 (_tmp105_);
	if (_tmp109_) {
		self->priv->_scrollWidth = (gfloat) 0;
	} else {
		soyatomsSize* _tmp110_;
		soyatomsSize* _tmp111_;
		soyatomsSize* _tmp112_;
		gfloat _tmp113_;
		gfloat _tmp114_;
		gfloat _tmp115_;
		soyatomsSize* _tmp116_;
		soyatomsSize* _tmp117_;
		soyatomsSize* _tmp118_;
		gfloat _tmp119_;
		gfloat _tmp120_;
		_tmp110_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
		_tmp111_ = _tmp110_;
		_tmp112_ = _tmp111_;
		_tmp113_ = soy_atoms_size_get_width (_tmp112_);
		_tmp114_ = _tmp113_;
		_tmp115_ = self->priv->_totalWidth;
		_tmp116_ = soy_widgets_widget_get_size ((soywidgetsWidget*) self);
		_tmp117_ = _tmp116_;
		_tmp118_ = _tmp117_;
		_tmp119_ = soy_atoms_size_get_width (_tmp118_);
		_tmp120_ = _tmp119_;
		self->priv->_scrollWidth = (_tmp114_ / _tmp115_) * _tmp120_;
		_g_object_unref0 (_tmp118_);
		_g_object_unref0 (_tmp112_);
	}
	_tmp121_ = ((soywidgetsScroller*) self)->scrollPosition;
	soy_atoms_position_set_x (_tmp121_, 0.0f);
	_tmp122_ = ((soywidgetsScroller*) self)->scrollPosition;
	soy_atoms_position_set_y (_tmp122_, 0.0f);
	_tmp123_ = self->priv->_scrollWidth;
	_tmp124_ = ((soywidgetsScroller*) self)->scrollbarThickness;
	_tmp125_ = soy_atoms_size_new (_tmp123_, (gfloat) _tmp124_, 0.0f);
	_g_object_unref0 (((soywidgetsScroller*) self)->scrollbarSize);
	((soywidgetsScroller*) self)->scrollbarSize = _tmp125_;
}


static void soy_widgets_hscroll_real_motion_handler (soywidgetsScroller* base, soyeventsMotion* e) {
	soywidgetsHScroll * self;
	soyatomsPosition* _tmp0_;
	soyeventsMotion _tmp1_;
	gfloat _tmp2_;
	soyatomsPosition* _tmp3_;
	soyeventsMotion _tmp4_;
	gfloat _tmp5_;
	soywidgetsContainer* _tmp6_;
	gint _tmp7_;
	gboolean _tmp8_;
	self = (soywidgetsHScroll*) base;
	g_return_if_fail (e != NULL);
	_tmp0_ = self->priv->_testpos;
	_tmp1_ = *e;
	_tmp2_ = _tmp1_.x;
	soy_atoms_position_set_x (_tmp0_, (gfloat) _tmp2_);
	_tmp3_ = self->priv->_testpos;
	_tmp4_ = *e;
	_tmp5_ = _tmp4_.y;
	_tmp6_ = ((soywidgetsScroller*) self)->parent;
	_tmp7_ = ((soywidgetsWidget*) _tmp6_)->height;
	soy_atoms_position_set_y (_tmp3_, (gfloat) ((-_tmp5_) + _tmp7_));
	_tmp8_ = ((soywidgetsScroller*) self)->drag;
	if (_tmp8_) {
		soyeventsMotion _tmp9_;
		gfloat _tmp10_;
		soyeventsMotion _tmp11_;
		gfloat _tmp12_;
		soyeventsMotion _tmp13_;
		gfloat _tmp14_;
		gfloat _tmp15_;
		gfloat offset;
		soyatomsPosition* _tmp16_;
		gfloat _tmp17_;
		gfloat _tmp18_;
		soyatomsPosition* _tmp19_;
		soyatomsPosition* _tmp20_;
		gfloat _tmp21_;
		gfloat _tmp22_;
		gfloat _tmp23_ = 0.0F;
		soyatomsPosition* _tmp24_;
		soyatomsPosition* _tmp25_;
		gfloat _tmp26_;
		gfloat _tmp27_;
		soyatomsSize* _tmp28_;
		gfloat _tmp29_;
		gfloat _tmp30_;
		gfloat _tmp31_;
		gfloat _tmp32_ = 0.0F;
		_tmp9_ = *e;
		_tmp10_ = _tmp9_.x;
		_tmp11_ = *e;
		_tmp12_ = _tmp11_.y;
		g_print ("e.x: %f   e.y: %f\n", (gdouble) _tmp10_, (gdouble) _tmp12_);
		_tmp13_ = *e;
		_tmp14_ = _tmp13_.x;
		_tmp15_ = ((soywidgetsScroller*) self)->xstartdrag;
		offset = ((gfloat) _tmp14_) - _tmp15_;
		_tmp16_ = ((soywidgetsScroller*) self)->scrollPosition;
		_tmp17_ = ((soywidgetsScroller*) self)->xpos_startdrag;
		_tmp18_ = offset;
		soy_atoms_position_set_x (_tmp16_, _tmp17_ + _tmp18_);
		_tmp19_ = ((soywidgetsScroller*) self)->scrollPosition;
		_tmp20_ = ((soywidgetsScroller*) self)->scrollPosition;
		_tmp21_ = soy_atoms_position_get_x (_tmp20_);
		_tmp22_ = _tmp21_;
		_tmp23_ = MAX (_tmp22_, 0.0f);
		soy_atoms_position_set_x (_tmp19_, _tmp23_);
		_tmp24_ = ((soywidgetsScroller*) self)->scrollPosition;
		_tmp25_ = ((soywidgetsScroller*) self)->scrollPosition;
		_tmp26_ = soy_atoms_position_get_x (_tmp25_);
		_tmp27_ = _tmp26_;
		_tmp28_ = self->priv->_viewPort;
		_tmp29_ = soy_atoms_size_get_width (_tmp28_);
		_tmp30_ = _tmp29_;
		_tmp31_ = self->priv->_scrollWidth;
		_tmp32_ = MIN (_tmp27_, _tmp30_ - _tmp31_);
		soy_atoms_position_set_x (_tmp24_, _tmp32_);
	}
}


static void soy_widgets_hscroll_real_scroll_handler (soywidgetsScroller* base, soyeventsScroll* e) {
	soywidgetsHScroll * self;
	soyeventsScroll _tmp0_;
	soyScrollDirection _tmp1_;
	self = (soywidgetsHScroll*) base;
	g_return_if_fail (e != NULL);
	_tmp0_ = *e;
	_tmp1_ = _tmp0_.direction;
	switch (_tmp1_) {
		case SOY_SCROLL_DIRECTION_Left:
		{
			{
				soyatomsPosition* _tmp2_;
				soyatomsPosition* _tmp3_;
				gfloat _tmp4_;
				gfloat _tmp5_;
				soyatomsPosition* _tmp6_;
				soyatomsPosition* _tmp7_;
				gfloat _tmp8_;
				gfloat _tmp9_;
				gfloat _tmp10_ = 0.0F;
				_tmp2_ = ((soywidgetsScroller*) self)->scrollPosition;
				_tmp3_ = ((soywidgetsScroller*) self)->scrollPosition;
				_tmp4_ = soy_atoms_position_get_x (_tmp3_);
				_tmp5_ = _tmp4_;
				soy_atoms_position_set_x (_tmp3_, _tmp5_ - 10);
				_tmp6_ = ((soywidgetsScroller*) self)->scrollPosition;
				_tmp7_ = ((soywidgetsScroller*) self)->scrollPosition;
				_tmp8_ = soy_atoms_position_get_x (_tmp7_);
				_tmp9_ = _tmp8_;
				_tmp10_ = MAX (_tmp9_, 0.0f);
				soy_atoms_position_set_x (_tmp6_, _tmp10_);
			}
			break;
		}
		case SOY_SCROLL_DIRECTION_Right:
		{
			{
				soyatomsPosition* _tmp11_;
				soyatomsPosition* _tmp12_;
				gfloat _tmp13_;
				gfloat _tmp14_;
				soyatomsPosition* _tmp15_;
				soyatomsPosition* _tmp16_;
				gfloat _tmp17_;
				gfloat _tmp18_;
				soyatomsSize* _tmp19_;
				gfloat _tmp20_;
				gfloat _tmp21_;
				gfloat _tmp22_;
				gfloat _tmp23_ = 0.0F;
				_tmp11_ = ((soywidgetsScroller*) self)->scrollPosition;
				_tmp12_ = ((soywidgetsScroller*) self)->scrollPosition;
				_tmp13_ = soy_atoms_position_get_x (_tmp12_);
				_tmp14_ = _tmp13_;
				soy_atoms_position_set_x (_tmp12_, _tmp14_ + 10);
				_tmp15_ = ((soywidgetsScroller*) self)->scrollPosition;
				_tmp16_ = ((soywidgetsScroller*) self)->scrollPosition;
				_tmp17_ = soy_atoms_position_get_x (_tmp16_);
				_tmp18_ = _tmp17_;
				_tmp19_ = self->priv->_viewPort;
				_tmp20_ = soy_atoms_size_get_width (_tmp19_);
				_tmp21_ = _tmp20_;
				_tmp22_ = self->priv->_scrollWidth;
				_tmp23_ = MIN (_tmp18_, _tmp21_ - _tmp22_);
				soy_atoms_position_set_x (_tmp15_, _tmp23_);
			}
			break;
		}
		default:
		break;
	}
}


static void soy_widgets_hscroll_class_init (soywidgetsHScrollClass * klass) {
	soy_widgets_hscroll_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (soywidgetsHScrollPrivate));
	SOY_WIDGETS_WIDGET_CLASS (klass)->render = soy_widgets_hscroll_real_render;
	SOY_WIDGETS_CONTAINER_CLASS (klass)->resize_children = soy_widgets_hscroll_real_resize_children;
	SOY_WIDGETS_SCROLLER_CLASS (klass)->motion_handler = soy_widgets_hscroll_real_motion_handler;
	SOY_WIDGETS_SCROLLER_CLASS (klass)->scroll_handler = soy_widgets_hscroll_real_scroll_handler;
	G_OBJECT_CLASS (klass)->finalize = soy_widgets_hscroll_finalize;
}


static void soy_widgets_hscroll_instance_init (soywidgetsHScroll * self) {
	self->priv = SOY_WIDGETS_HSCROLL_GET_PRIVATE (self);
}


static void soy_widgets_hscroll_finalize (GObject* obj) {
	soywidgetsHScroll * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SOY_WIDGETS_TYPE_HSCROLL, soywidgetsHScroll);
	_g_object_unref0 (self->priv->_viewPort);
	_g_object_unref0 (self->priv->_testpos);
	G_OBJECT_CLASS (soy_widgets_hscroll_parent_class)->finalize (obj);
}


GType soy_widgets_hscroll_get_type (void) {
	static volatile gsize soy_widgets_hscroll_type_id__volatile = 0;
	if (g_once_init_enter (&soy_widgets_hscroll_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (soywidgetsHScrollClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) soy_widgets_hscroll_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (soywidgetsHScroll), 0, (GInstanceInitFunc) soy_widgets_hscroll_instance_init, NULL };
		GType soy_widgets_hscroll_type_id;
		soy_widgets_hscroll_type_id = g_type_register_static (SOY_WIDGETS_TYPE_SCROLLER, "soywidgetsHScroll", &g_define_type_info, 0);
		g_once_init_leave (&soy_widgets_hscroll_type_id__volatile, soy_widgets_hscroll_type_id);
	}
	return soy_widgets_hscroll_type_id__volatile;
}



